function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./DefmstYv.js","./CMcu4vOi.js","./entry.D_ACP7Z5.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{an as et,o as u,c as h,bR as tn,bS as nn,j as l,d as O,cE as wt,aS as tt,v as E,by as $e,f as p,w as $,a4 as j,l as P,t as v,h as a,bm as on,x as Y,aF as gt,$ as H,cD as Rn,p as ge,a0 as nt,b$ as qe,aX as Kn,b_ as zn,H as sn,a as K,q as ie,m as R,ao as ye,N as _t,as as Ye,cA as an,au as rn,k as D,U as de,cQ as ln,a2 as Ae,cR as Bn,bc as je,bu as Wn,cS as Et,a9 as cn,cT as Fn,J as V,K as Q,cN as un,i as dn,cU as qn,ab as Yn,af as jn,cV as Xn,aA as Xe,bp as hn,aj as mn,D as xt,bv as Zn,cW as Qn,al as bt,cI as fn,ce as pn,cd as Te,a6 as U,aJ as Jn,bb as eo,cX as Tt,c7 as to,y as no,bs as Mt,cY as oo,a5 as ke,aE as Ne,cG as so,bx as io,c2 as vn,cu as ao,az as Pt,cZ as ro,c_ as lo,c$ as xe,d0 as It,aG as co,d1 as At,u as uo,d2 as ot,d3 as ho,d4 as mo,a1 as fo,d5 as po,A as gn,b as _n,d6 as vo,Z as go,ct as Re,c6 as rt,T as lt,L as _e,d7 as _o,R as bo,S as yo,d8 as Vt,d9 as ct,da as ko,db as ut,dc as Ut,dd as Ke,de as Gt,df as Ot,dg as Ht,dh as dt,di as $o,dj as ht,dk as Lt,aD as Nt,dl as ze,dm as Rt,aw as wo,dn as mt,dp as Be,dq as xo,dr as ft,ds as Kt,dt as So,du as Co,dv as pt,b4 as zt,dw as Do,s as Eo,dx as To,aP as bn,c5 as Mo,dy as Po,bo as Io,_ as Ao}from"./CMcu4vOi.js";import{i as Vo,a as Uo}from"./mR6jMqfJ.js";import{u as yn}from"./DEUvyWAo.js";import{u as Go,a as Oo,b as Ho,_ as Lo}from"./rSrS_poO.js";import{_ as No}from"./CjVkB9VF.js";import{_ as Ro}from"./-SIb_O-z.js";import{_ as Ko}from"./weTs8tLg.js";import{f as zo,g as Bo,j as Wo,e as Fo}from"./B5y2QTf5.js";import{_ as qo}from"./WqbmNLH1.js";import{_ as Yo}from"./VLSdsOGO.js";import"./BBra7vxC.js";import"./CfB6UbSh.js";import"./DDd3r5-x.js";import"./Brx9_43Z.js";import"./BwHuf7fG.js";import"./BsDGj7hD.js";import"./CziPTEgh.js";import"./Bo2XathJ.js";import"./Cs8xWohE.js";import"./C1NZMy0l.js";import"./Cy5WKwqU.js";import"./VKdB9Mfh.js";import"./sfWYJY5J.js";import"./BpHJWG9q.js";const jo={},Xo=t=>(tn("data-v-5cb58bfe"),t=t(),nn(),t),Zo={"shrink-0":"",aspect:"1/1","sm:h-8":"","xl:h-10":"",class:"rtl-flip"},Qo=Xo(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg","w-full":"",aspect:"1/1","sm:h-8":"","xl:h-10":"","sm:w-8":"","xl:w-10":"",viewBox:"0 0 250 250",fill:"none"},[l("mask",{id:"a",width:"240",height:"234",x:"4",y:"1",maskUnits:"userSpaceOnUse",style:{"mask-type":"alpha"}},[l("path",{id:"path19",fill:"#D9D9D9",d:"M244 123c0 64.617-38.383 112-103 112-64.617 0-103-30.883-103-95.5C38 111.194-8.729 36.236 8 16 29.46-9.959 88.689 6 125 6c64.617 0 119 52.383 119 117Z"})]),l("g",{id:"g28",mask:"url(#a)",transform:"matrix(0.90923731,0,0,1.0049564,13.520015,-3.1040835)"},[l("path",{id:"path22",class:"body",d:"m 116.94,88.1 c -13.344,1.552 -20.436,-2.019 -24.706,10.71 0,0 14.336,21.655 52.54,21.112 -2.135,8.848 -1.144,15.368 -1.144,23.207 0,26.079 -20.589,48.821 -65.961,48.821 -23.03,0 -51.015,4.191 -72.367,15.911 -15.175,8.305 -27.048,20.336 -32.302,37.023 l 5.956,8.461 11.4,0.155 v 47.889 l -13.91,21.966 3.998,63.645 H -6.364 L -5.22,335.773 C 1.338,331.892 16.36,321.802 29.171,306.279 46.557,285.4 59.902,255.052 44.193,217.486 l 11.744,-5.045 c 12.887,30.814 8.388,57.514 -2.898,79.013 21.58,-0.698 40.11,-2.095 55.819,-4.734 l -3.584,-43.698 12.659,-1.087 L 129.98,387 h 13.116 l 2.212,-94.459 c 10.447,-4.502 34.239,-21.034 45.372,-78.47 1.372,-6.986 2.135,-12.885 2.516,-17.93 1.754,-12.806 2.745,-27.243 3.051,-43.698 l -18.683,-5.976 h 57.42 l 5.567,-12.807 c -5.414,0.233 -11.896,-2.639 -11.896,-2.639 l 1.297,-6.209 H 242 L 176.801,90.428 c -7.244,2.794 -14.87,6.442 -20.208,10.866 -4.27,-3.105 -19.063,-12.807 -39.653,-13.195 z"}),l("path",{id:"path24",class:"wood",d:"M 6.217,24.493 18.494,21 c 5.948,21.577 13.345,33.375 22.648,39.352 8.388,5.099 19.75,5.239 31.799,4.579 C 69.433,63.767 66.154,62.137 63.104,59.886 56.317,54.841 50.522,46.458 46.175,31.246 l 12.201,-3.649 c 3.279,11.488 7.092,18.085 12.201,21.888 5.11,3.726 11.286,4.657 18.606,5.433 13.726,1.553 30.884,2.174 52.312,12.264 2.898,1.086 5.872,2.483 8.769,4.036 -0.381,-0.776 -0.762,-1.553 -1.296,-2.406 -3.66,-5.822 -10.828,-11.953 -24.097,-16.92 l 4.27,-12.109 c 21.581,7.917 30.121,19.171 33.553,28.097 3.965,10.168 1.525,18.124 1.525,18.124 -3.05,1.009 -6.1,2.406 -9.608,3.492 -6.634,-4.579 -12.887,-8.033 -18.835,-10.75 C 113.814,70.442 92.31,76.108 73.246,77.893 58.91,79.213 45.794,78.591 34.432,71.295 23.222,64.155 13.385,50.495 6.217,24.493 Z"}),l("path",{id:"path26",class:"wood",d:"M 90.098,45.294 C 87.582,39.55 86.057,32.487 86.743,23.794 l 12.659,0.932 c -0.763,10.555 2.897,17.696 7.015,22.353 -5.338,-0.931 -10.447,-1.04 -16.319,-1.785 z m 80.069,-1.32 8.312,-9.702 c 21.58,19.094 8.159,46.415 8.159,46.415 l -11.819,-1.32 c -0.382,-6.24 -1.144,-17.836 -6.635,-24.371 3.584,1.84 6.635,3.865 9.99,6.908 0,-5.666 -1.754,-12.341 -8.007,-17.93 z"})])],-1)),Jo=[Qo];function es(t,e){return u(),h("span",Zo,Jo)}const ts=et(jo,[["render",es],["__scopeId","data-v-5cb58bfe"]]),ns={flex:"","justify-between":"",sticky:"","top-0":"","bg-base":"","z-1":"","py-4":"","native:py-7":"","data-tauri-drag-region":""},os={hidden:"","xl:block":"","text-secondary":""},ss={"text-sm":"",italic:"","mt-1":""},is={hidden:"","xl:flex":"","items-center":"","me-8":"","mt-2":"","gap-1":""},as=l("div",{"text-xl":"","i-ri:arrow-left-line":"",class:"rtl-flip","btn-text":""},null,-1),rs=O({__name:"NavTitle",setup(t){const{env:e}=wt(),n=tt(),o=E(""),s=qe();function r(){s.hooks.callHook("elk-logo:click")}return $e(()=>{o.value=n.options.history.state.back}),n.afterEach(()=>{o.value=n.options.history.state.back}),(i,c)=>{const d=ts,f=ge,g=nt;return u(),h("div",ns,[p(f,{flex:"","items-end":"","gap-3":"",py2:"","px-5":"","text-2xl":"","select-none":"","focus-visible:ring":"2 current",to:"/home",onClick:gt(r,["prevent"])},{default:$(()=>[p(d,{"shrink-0":"",aspect:"1/1","sm:h-8":"","xl:h-10":"",class:"rtl-flip"}),j(l("div",os,[P(v(i.$t("app_name"))+" ",1),l("sup",ss,v(a(e)==="release"?"alpha":a(e)),1)],512),[[on,"isHydrated"in i?i.isHydrated:a(Y)]])]),_:1}),l("div",is,[p(g,{content:i.$t("nav.back")},{default:$(()=>[p(f,{"aria-label":i.$t("nav.back"),class:H({"pointer-events-none op0":!a(o)||a(o)==="/","xl:flex":(i._.provides[Rn]||i.$route).name!=="tag"}),onClick:c[0]||(c[0]=m=>i.$router.go(-1))},{default:$(()=>[as]),_:1},8,["aria-label","class"])]),_:1},8,["content"])])])}}}),ls={block:"","sm:hidden":"","xl:block":"","select-none":""},cs=O({__name:"NavSideItem",props:{text:{},icon:{},to:{},userOnly:{type:Boolean,default:!1},command:{type:Boolean}},setup(t){const e=t,n=tt();Kn({scope:"Navigation",name:()=>e.text??(typeof e.to=="string"?e.to:e.to.name),icon:()=>e.icon,visible:()=>e.command,onActivate(){n.push(e.to)}});const o=E("text-primary");zn(async()=>{o.value="",await sn(),o.value="text-primary"});const s=K(()=>!Y.value||e.userOnly&&!ie.value),r=K(()=>Y.value&&e.userOnly&&!ie.value);return(i,c)=>{const d=nt,f=ge;return u(),R(f,{to:i.to,disabled:a(s),class:H(a(r)?"op25 pointer-events-none ":""),"active-class":a(o),group:"","focus:outline-none":"","disabled:pointer-events-none":"",tabindex:a(s)?-1:null,onClick:i.$scrollToTop},{default:$(()=>[p(d,{disabled:!("isMediumOrLargeScreen"in i?i.isMediumOrLargeScreen:a(Vo)),content:i.text,placement:"right"},{default:$(()=>[l("div",{class:H(["item",("isSmallScreen"in i?i.isSmallScreen:a(Uo))?`
            w-full
            px5 sm:mxa
            transition-colors duration-200 transform
            hover-bg-gray-100 hover-dark:bg-gray-700 hover-dark:text-white
          `:`
            w-fit rounded-3
            px2 mx3 sm:mxa
            transition-100
            elk-group-hover-bg-active
            group-focus-visible:ring-2
            group-focus-visible:ring-current
          `]),flex:"","items-center":"",gap4:"",xl:"ml0 mr5 px5 w-auto"},[ye(i.$slots,"icon",{},()=>[l("div",{class:H(i.icon),"text-xl":""},null,2)],!0),ye(i.$slots,"default",{},()=>[l("span",ls,v(("isHydrated"in i?i.isHydrated:a(Y))?i.text:" "),1)],!0)],2)]),_:3},8,["disabled","content"])]),_:3},8,["to","disabled","class","active-class","tabindex","onClick"])}}}),us=et(cs,[["__scopeId","data-v-16939a83"]]),Ve=t=>(tn("data-v-50e7b1d7"),t=t(),nn(),t),ds={"sm:px3":"",flex:"~ col gap2",shrink:"","text-size-base":"","leading-normal":"","md:text-lg":"","h-full":"","mt-1":"","overflow-y-auto":""},hs=Ve(()=>l("div",{class:"spacer",shrink:"","xl:hidden":""},null,-1)),ms={flex:"",relative:""},fs=Ve(()=>l("div",{class:"i-ri:notification-4-line","text-xl":""},null,-1)),ps={key:0,class:"top-[-0.3rem] right-[-0.3rem]",absolute:"","font-bold":"","rounded-full":"","h-4":"","w-4":"","text-xs":"","bg-primary":"","text-inverted":"",flex:"","items-center":"","justify-center":""},vs=Ve(()=>l("div",{class:"spacer",shrink:"",hidden:"","sm:block":""},null,-1)),gs=Ve(()=>l("div",{class:"spacer",shrink:"",hidden:"","sm:block":""},null,-1)),_s=Ve(()=>l("div",{class:"spacer",shrink:"",hidden:"","sm:block":""},null,-1)),bs=O({__name:"NavSide",props:{command:{type:Boolean}},setup(t){const{notifications:e}=yn(),n=_t("useStarFavoriteIcon"),o=Ye(an,""),s=Ye(rn,"");return(r,i)=>{const c=us;return u(),h("nav",ds,[p(c,{text:r.$t("nav.search"),to:"/search",icon:"i-ri:search-line","xl:hidden":"",command:r.command},null,8,["text","command"]),hs,p(c,{text:r.$t("nav.home"),to:"/home",icon:"i-ri:home-5-line","user-only":"",command:r.command},null,8,["text","command"]),p(c,{text:r.$t("nav.notifications"),to:`/notifications/${a(o)}`,icon:"i-ri:notification-4-line","user-only":"",command:r.command},{icon:$(()=>[l("div",ms,[fs,a(e)?(u(),h("div",ps,v(a(e)<10?a(e):"•"),1)):D("",!0)])]),_:1},8,["text","to","command"]),p(c,{text:r.$t("nav.conversations"),to:"/conversations",icon:"i-ri:at-line","user-only":"",command:r.command},null,8,["text","command"]),p(c,{text:r.$t("nav.favourites"),to:"/favourites",icon:a(n)?"i-ri:star-line":"i-ri:heart-3-line","user-only":"",command:r.command},null,8,["text","icon","command"]),p(c,{text:r.$t("nav.bookmarks"),to:"/bookmarks",icon:"i-ri:bookmark-line","user-only":"",command:r.command},null,8,["text","command"]),vs,p(c,{text:r.$t("action.compose"),to:"/compose",icon:"i-ri:quill-pen-line","user-only":"",command:r.command},null,8,["text","command"]),gs,p(c,{text:r.$t("nav.explore"),to:("isHydrated"in r?r.isHydrated:a(Y))?`/${"currentServer"in r?r.currentServer:a(de)}/explore/${a(s)}`:`/explore/${a(s)}`,icon:"i-ri:compass-3-line",command:r.command},null,8,["text","to","command"]),p(c,{text:r.$t("nav.local"),to:("isHydrated"in r?r.isHydrated:a(Y))?`/${"currentServer"in r?r.currentServer:a(de)}/public/local`:"/public/local",icon:"i-ri:group-2-line ",command:r.command},null,8,["text","to","command"]),p(c,{text:r.$t("nav.federated"),to:("isHydrated"in r?r.isHydrated:a(Y))?`/${"currentServer"in r?r.currentServer:a(de)}/public`:"/public",icon:"i-ri:earth-line",command:r.command},null,8,["text","to","command"]),p(c,{text:r.$t("nav.lists"),to:("isHydrated"in r?r.isHydrated:a(Y))?`/${"currentServer"in r?r.currentServer:a(de)}/lists`:"/lists",icon:"i-ri:list-check","user-only":"",command:r.command},null,8,["text","to","command"]),p(c,{text:r.$t("nav.hashtags"),to:"/hashtags",icon:"i-ri:hashtag","user-only":"",command:r.command},null,8,["text","command"]),_s,p(c,{text:r.$t("nav.settings"),to:"/settings",icon:"i-ri:settings-3-line",command:r.command},null,8,["text","command"])])}}}),kn=et(bs,[["__scopeId","data-v-50e7b1d7"]]),ys={p8:"","lg:flex":"~ col gap2",hidden:""},ks={key:0,"text-sm":""},$s={"text-sm":"","text-secondary":""},ws=["disabled"],xs={key:0,"aria-hidden":"true",block:"",animate:"","animate-spin":"","preserve-3d":"",class:"rtl-flip"},Ss=l("span",{block:"","i-ri:loader-2-fill":"","aria-hidden":"true"},null,-1),Cs=[Ss],Ds={key:1,"aria-hidden":"true",block:"","i-ri:login-circle-line":"",class:"rtl-flip"},Es=O({__name:"UserSignInEntry",setup(t){const{busy:e,oauth:n,singleInstanceServer:o}=ln();return(s,r)=>{const i=Ae("i18n-t");return u(),h("div",ys,[("isHydrated"in s?s.isHydrated:a(Y))?(u(),h("p",ks,[p(i,{keypath:"user.sign_in_notice_title"},{default:$(()=>[l("strong",null,v("currentServer"in s?s.currentServer:a(de)),1)]),_:1})])):D("",!0),l("p",$s,v(s.$t(a(o)?"user.single_instance_sign_in_desc":"user.sign_in_desc")),1),a(o)?(u(),h("button",{key:1,flex:"~ row","gap-x-2":"","items-center":"","justify-center":"","btn-solid":"","text-center":"","rounded-3":"",disabled:a(e),onClick:r[0]||(r[0]=c=>a(n)())},[a(e)?(u(),h("span",xs,Cs)):(u(),h("span",Ds)),P(" "+v(s.$t("action.sign_in")),1)],8,ws)):(u(),h("button",{key:2,"btn-solid":"","rounded-3":"","text-center":"","mt-2":"","select-none":"",onClick:r[1]||(r[1]=c=>("openSigninDialog"in s?s.openSigninDialog:a(Bn))())},v(s.$t("action.sign_in")),1))])}}}),Ts=O({__name:"CommonMask",props:{zIndex:{default:100},background:{default:"transparent"}},setup(t){return(e,n)=>(u(),h("div",{fixed:"","top-0":"","bottom-0":"","left-0":"","right-0":"",style:je({background:e.background,zIndex:e.zIndex})},null,4))}});function Ms(t={}){const{background:e="transparent",getContainer:n=()=>document.body,zIndex:o=100}=t,s=document.createElement("div");function r(){n()?.appendChild(s);const d=Wn(Ts,{background:e,zIndex:o});Et(d,s)}function i(){Et(null,s),s.parentNode?.removeChild(s)}return{show:r,hide:i}}const Ps=["aria-label"],$n=O({__name:"UserDropdown",setup(t){const e=Ms();return(n,o)=>{const s=cn,r=Fn,i=Ae("VDropdown");return u(),R(i,{distance:0,placement:"top-start",strategy:"fixed",onApplyShow:o[0]||(o[0]=c=>a(e).show()),onApplyHide:o[1]||(o[1]=c=>a(e).hide())},{popper:$(({hide:c})=>[p(r,{onClick:c},null,8,["onClick"])]),default:$(()=>[l("button",{"btn-action-icon":"","aria-label":n.$t("action.switch_account")},[l("div",{class:H({"hidden xl:block":"currentUser"in n?n.currentUser:a(ie)}),"i-ri:more-2-line":""},null,2),("currentUser"in n?n.currentUser:a(ie))?(u(),R(s,{key:0,"xl:hidden":"",account:("currentUser"in n?n.currentUser:a(ie)).account,"w-9":"","h-9":"",square:""},null,8,["account"])):D("",!0)],8,Ps)]),_:1})}}}),Is={flex:"","justify-start":"","items-end":"","px-2":"","gap-5":""},As={flex:"~ wrap-reverse","gap-5":""},Vs=["onClick"],Us={"text-center":""},Gs={"text-4":""},Os={flex:"","items-center":"","justify-center":"","w-13":"","h-13":""},Hs=O({__name:"UserPicker",setup(t){const e=un(),n=tt();function o(s){s.account.acct===ie.value?.account.acct?n.push(dn(s.account)):qn(s)}return(s,r)=>{const i=cn,c=Yn,d=jn,f=nt,g=$n;return u(),h("div",Is,[l("div",As,[(u(!0),h(V,null,Q(a(e),m=>(u(),R(f,{key:m.id,distance:8,delay:{show:300,hide:100}},{popper:$(()=>[l("div",Us,[l("span",Gs,[p(c,{account:m.account},null,8,["account"])]),p(d,{account:m.account},null,8,["account"])])]),default:$(()=>[l("button",{flex:"",rounded:"","cursor-pointer":"","aria-label":"Switch user",class:H(m.account.acct===("currentUser"in s?s.currentUser:a(ie))?.account.acct?"":"op25 grayscale"),hover:"filter-none op100",onClick:b=>o(m)},[p(i,{"w-13":"","h-13":"",account:m.account,square:""},null,8,["account"])],10,Vs)]),_:2},1024))),128))]),l("div",Os,[p(g)])])}}}),Ls={key:0,"w-full":"","min-h-30px":"",px4:"",py3:"","text-primary":"","bg-base":"",border:"t base",flex:"~ gap-2 center"},Ns=l("div",{"i-ri:wifi-off-line":""},null,-1),Rs=O({__name:"OfflineChecker",setup(t){const e=Xn();return(n,o)=>a(e)?D("",!0):(u(),h("div",Ls,[Ns,P(" "+v(n.$t("common.offline_desc")),1)]))}}),Ks={absolute:"","inset-x-0":"","top-auto":"","bottom-full":"","z-20":"","h-100vh":"",flex:"","items-end":"","of-y-scroll":"","of-x-hidden":"","scrollbar-hide":"","overscroll-none":"",bg:"black/50"},zs=l("div",{absolute:"","inset-0":"","opacity-0":"",h:"[calc(100vh+0.5px)]"},null,-1),Bs=l("div",{border:"neutral-300 dark:neutral-700 t-1",m:"x-3 y-2"},null,-1),Ws={flex:"~ col gap2"},Fs=l("span",{class:"i-ri:sun-line dark:i-ri:moon-line flex-shrink-0 text-xl me-4 !align-middle"},null,-1),qs=["aria-label"],Ys=O({__name:"NavBottomMoreMenu",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=Xe(t,"modelValue"),n=hn(),o=mn(),s=E();function r(){e.value=!e.value}const i=E();function c(m){m.target&&!i.value?.children[0].contains(m.target)&&e.value&&(document.removeEventListener("click",c),e.value=!1)}function d(){n.preference=n.value==="dark"?"light":"dark"}xt(e,m=>{m&&typeof document<"u"&&document.addEventListener("click",c)}),Zn(()=>{document.removeEventListener("click",c)});const{dragging:f,dragDistance:g}=Qn(()=>{let b=0,k=0;const C=E(0),T=E(!1);return Te(s,"scroll",I=>{b=I.target.scrollTop,C.value>0&&(I.target.scrollTop=0)},{passive:!0}),Te(s,"touchstart",I=>{e.value&&(k=I.touches[0].pageY,C.value=0)},{passive:!0}),Te(s,"touchmove",I=>{if(!e.value)return;if(b>0&&C.value<=0){T.value=!1,k=I.touches[0].pageY;return}const{pageY:L}=I.touches[0];C.value+=L-k,C.value<0&&(C.value=0),k=L,C.value>1&&(T.value=!0),C.value>0&&(I?.cancelable&&I?.preventDefault&&I.preventDefault(),I?.stopPropagation())},{passive:!0}),Te(s,"touchend",()=>{e.value&&(C.value>=120&&(e.value=!1),T.value=!1)},{passive:!0}),{dragDistance:C,dragging:T}});return(m,b)=>{const k=kn;return u(),h("div",{ref_key:"buttonEl",ref:i,flex:"","items-center":"",static:""},[ye(m.$slots,"default",{toggleVisible:r,show:e.value}),p(pn,{"enter-active-class":"transition duration-250 ease-out","enter-from-class":"opacity-0 children:translate-y-full","enter-to-class":"opacity-100 children:translate-y-0","leave-active-class":"transition duration-250 ease-in","leave-from-class":"opacity-100 children:translate-y-0","leave-to-class":"opacity-0 children:translate-y-full"},{default:$(()=>[j(l("div",Ks,[zs,l("div",{ref_key:"drawerEl",ref:s,style:je({transform:a(f)?`translateY(${a(g)}px)`:""}),class:H({"duration-0":a(f),"duration-250":!a(f),"backdrop-blur-md":!("getPreferences"in m?m.getPreferences:a(bt))(a(o),"optimizeForLowPerformanceDevice")}),transition:"transform ease-in","flex-1":"","min-w-48":"","py-6":"",mb:"-1px","of-y-auto":"","scrollbar-hide":"","overscroll-none":"","max-h":"[calc(100vh-200px)]","rounded-t-lg":"",bg:"white/85 dark:neutral-900/85","backdrop-filter":"","border-t-1":"","border-base":""},[p(k),Bs,l("div",Ws,[l("button",{flex:"","flex-row":"","items-center":"",block:"","px-5":"","py-2":"","focus-blue":"","w-full":"","text-sm":"","text-base":"",capitalize:"","text-left":"","whitespace-nowrap":"","transition-colors":"","duration-200":"",transform:"",hover:"bg-gray-100 dark:bg-gray-700 dark:text-white",onClick:b[0]||(b[0]=C=>d())},[Fs,P(" "+v(a(n).value==="light"?m.$t("menu.toggle_theme.dark"):m.$t("menu.toggle_theme.light")),1)]),l("button",{flex:"","flex-row":"","items-center":"",block:"","px-5":"","py-2":"","focus-blue":"","w-full":"","text-sm":"","text-base":"",capitalize:"","text-left":"","whitespace-nowrap":"","transition-colors":"","duration-200":"",transform:"",hover:"bg-gray-100 dark:bg-gray-700 dark:text-white","aria-label":m.$t("nav.zen_mode"),onClick:b[1]||(b[1]=C=>("togglePreferences"in m?m.togglePreferences:a(fn))("zenMode"))},[l("span",{class:H([("getPreferences"in m?m.getPreferences:a(bt))(a(o),"zenMode")?"i-ri:layout-right-2-line":"i-ri:layout-right-line","flex-shrink-0 text-xl me-4 !align-middle"])},null,2),P(" "+v(m.$t("nav.zen_mode")),1)],8,qs)])],6)],512),[[on,e.value]])]),_:1})],512)}}}),js={"h-14":"",border:"t base",flex:"","flex-row":"","text-xl":"","of-y-scroll":"","scrollbar-hide":"","overscroll-none":"",class:"after-content-empty after:h-[calc(100%+0.5px)] after:w-0.1px after:pointer-events-none"},Xs=l("div",{"i-ri:home-5-line":""},null,-1),Zs=l("div",{"i-ri:search-line":""},null,-1),Qs={flex:"",relative:""},Js=l("div",{class:"i-ri:notification-4-line","text-xl":""},null,-1),ei={key:0,class:"top-[-0.3rem] right-[-0.3rem]",absolute:"","font-bold":"","rounded-full":"","h-4":"","w-4":"","text-xs":"","bg-primary":"","text-inverted":"",flex:"","items-center":"","justify-center":""},ti=l("div",{"i-ri:at-line":""},null,-1),ni=l("div",{"i-ri:compass-3-line":""},null,-1),oi=l("div",{"i-ri:group-2-line":""},null,-1),si=l("div",{"i-ri:earth-line":""},null,-1),ii=["onClick"],ai=O({__name:"NavBottom",setup(t){const e=E(!1),{notifications:n}=yn(),o=Ye(an,""),s=Ye(rn,"");return(r,i)=>{const c=ge,d=Ys;return u(),h("nav",js,[("currentUser"in r?r.currentUser:a(ie))?(u(),h(V,{key:0},[p(c,{to:"/home","aria-label":r.$t("nav.home"),"active-class":a(e)?"":"text-primary",flex:"","flex-row":"","items-center":"","place-content-center":"","h-full":"","flex-1":"",class:"coarse-pointer:select-none",onClick:r.$scrollToTop},{default:$(()=>[Xs]),_:1},8,["aria-label","active-class","onClick"]),p(c,{to:"/search","aria-label":r.$t("nav.search"),"active-class":a(e)?"":"text-primary",flex:"","flex-row":"","items-center":"","place-content-center":"","h-full":"","flex-1":"",class:"coarse-pointer:select-none",onClick:r.$scrollToTop},{default:$(()=>[Zs]),_:1},8,["aria-label","active-class","onClick"]),p(c,{to:`/notifications/${a(o)}`,"aria-label":r.$t("nav.notifications"),"active-class":a(e)?"":"text-primary",flex:"","flex-row":"","items-center":"","place-content-center":"","h-full":"","flex-1":"",class:"coarse-pointer:select-none",onClick:r.$scrollToTop},{default:$(()=>[l("div",Qs,[Js,a(n)?(u(),h("div",ei,v(a(n)<10?a(n):"•"),1)):D("",!0)])]),_:1},8,["to","aria-label","active-class","onClick"]),p(c,{to:"/conversations","aria-label":r.$t("nav.conversations"),"active-class":a(e)?"":"text-primary",flex:"","flex-row":"","items-center":"","place-content-center":"","h-full":"","flex-1":"",class:"coarse-pointer:select-none",onClick:r.$scrollToTop},{default:$(()=>[ti]),_:1},8,["aria-label","active-class","onClick"])],64)):(u(),h(V,{key:1},[p(c,{to:`/${"currentServer"in r?r.currentServer:a(de)}/explore/${a(s)}`,"aria-label":r.$t("nav.explore"),"active-class":a(e)?"":"text-primary",flex:"","flex-row":"","items-center":"","place-content-center":"","h-full":"","flex-1":"",class:"coarse-pointer:select-none",onClick:r.$scrollToTop},{default:$(()=>[ni]),_:1},8,["to","aria-label","active-class","onClick"]),p(c,{group:"",to:`/${"currentServer"in r?r.currentServer:a(de)}/public/local`,"aria-label":r.$t("nav.local"),"active-class":a(e)?"":"text-primary",flex:"","flex-row":"","items-center":"","place-content-center":"","h-full":"","flex-1":"",class:"coarse-pointer:select-none",onClick:r.$scrollToTop},{default:$(()=>[oi]),_:1},8,["to","aria-label","active-class","onClick"]),p(c,{to:`/${"currentServer"in r?r.currentServer:a(de)}/public`,"aria-label":r.$t("nav.federated"),"active-class":a(e)?"":"text-primary",flex:"","flex-row":"","items-center":"","place-content-center":"","h-full":"","flex-1":"",class:"coarse-pointer:select-none",onClick:r.$scrollToTop},{default:$(()=>[si]),_:1},8,["to","aria-label","active-class","onClick"])],64)),p(d,{modelValue:a(e),"onUpdate:modelValue":i[0]||(i[0]=f=>U(e)?e.value=f:null),flex:"","flex-row":"","items-center":"","place-content-center":"","h-full":"","flex-1":"","cursor-pointer":""},{default:$(({toggleVisible:f,show:g})=>[l("button",{flex:"","items-center":"","place-content-center":"","h-full":"","flex-1":"",class:H(["select-none",g?"!text-primary":""]),"aria-label":"More menu",onClick:f},[l("span",{class:H(g?"i-ri:close-fill":"i-ri:more-fill")},null,2)],10,ii)]),_:1},8,["modelValue"])])}}}),ri={},li={key:0,"m-2":"",p5:"",bg:"primary-fade",relative:"","rounded-lg":"","of-hidden":"",flex:"~ col gap-3"},ci={flex:"~ gap-2","items-center":""},ui={flex:"~ gap-1"},di=l("div",{"i-ri-arrow-down-circle-line":"",absolute:"","text-8em":"","bottom--10":"","inset-ie--10":"","text-primary":"","dark:text-white":"",op10:"",class:"-z-1"},null,-1);function hi(t,e){return("useNuxtApp"in t?t.useNuxtApp:a(qe))().$pwa?.needRefresh?(u(),h("div",li,[l("h2",ci,v(t.$t("pwa.title")),1),l("div",ui,[l("button",{type:"button","btn-solid":"","px-4":"","py-1":"","text-center":"","text-sm":"",onClick:e[0]||(e[0]=n=>("useNuxtApp"in t?t.useNuxtApp:a(qe))().$pwa?.updateServiceWorker())},v(t.$t("pwa.update")),1),l("button",{type:"button","btn-text":"","filter-saturate-0":"","px-4":"","py-1":"","text-center":"","text-sm":"",onClick:e[1]||(e[1]=n=>("useNuxtApp"in t?t.useNuxtApp:a(qe))().$pwa?.close())},v(t.$t("pwa.dismiss")),1)]),di])):D("",!0)}const mi=et(ri,[["render",hi]]),fi={p4:"","text-sm":"","text-secondary-light":"",flex:"~ col"},pi={flex:"~ gap2","items-center":"",mb4:""},vi=["aria-label"],gi=["aria-label"],_i=["aria-label"],bi=["datetime","title"],yi={key:1},ki={key:3},$i=O({__name:"NavFooter",setup(t){const e=wt(),n=Jn(),o=to(),s=mn(),r=new Date(e.time),i=eo(r,n),c=hn();function d(){c.preference=c.value==="dark"?"light":"dark"}return(f,g)=>{const m=nt,b=ge,k=Ae("i18n-t");return u(),h("footer",fi,[l("div",pi,[p(m,{content:f.$t("nav.toggle_theme")},{default:$(()=>[l("button",{flex:"","i-ri:sun-line":"","dark-i-ri:moon-line":"","text-lg":"","aria-label":f.$t("nav.toggle_theme"),onClick:g[0]||(g[0]=C=>d())},null,8,vi)]),_:1},8,["content"]),p(m,{content:f.$t("nav.zen_mode")},{default:$(()=>[l("button",{flex:"","text-lg":"",class:H(("getPreferences"in f?f.getPreferences:a(bt))(a(s),"zenMode")?"i-ri:layout-right-2-line":"i-ri:layout-right-line"),"aria-label":f.$t("nav.zen_mode"),onClick:g[1]||(g[1]=C=>("togglePreferences"in f?f.togglePreferences:a(fn))("zenMode"))},null,10,gi)]),_:1},8,["content"]),p(m,{content:f.$t("magic_keys.dialog_header")},{default:$(()=>[l("button",{flex:"","i-ri:keyboard-box-line":"","dark-i-ri:keyboard-box-line":"","text-lg":"","aria-label":f.$t("magic_keys.dialog_header"),onClick:g[2]||(g[2]=(...C)=>("toggleKeyboardShortcuts"in f?f.toggleKeyboardShortcuts:a(Tt))&&("toggleKeyboardShortcuts"in f?f.toggleKeyboardShortcuts:a(Tt))(...C))},null,8,_i)]),_:1},8,["content"]),p(m,{content:f.$t("settings.about.sponsor_action")},{default:$(()=>[p(b,{flex:"","text-lg":"","i-ri-heart-3-line":"",hover:"i-ri-heart-3-fill text-rose","aria-label":f.$t("settings.about.sponsor_action"),href:"https://github.com/sponsors/elk-zone",target:"_blank"},null,8,["aria-label"])]),_:1},8,["content"])]),l("div",null,[("isHydrated"in f?f.isHydrated:a(Y))?(u(),R(k,{key:0,keypath:"nav.built_at"},{default:$(()=>[l("time",{datetime:String(a(r)),title:f.$d(a(r),"long")},v(a(i)),9,bi)]),_:1})):(u(),h("span",yi,v(f.$t("nav.built_at",[f.$d(a(r),"shortDate")])),1)),P(" · "),a(e).env==="release"?(u(),R(b,{key:2,external:"",href:`https://github.com/elk-zone/elk/releases/tag/v${a(e).version}`,target:"_blank","font-mono":""},{default:$(()=>[P(" v"+v(a(e).version),1)]),_:1},8,["href"])):(u(),h("span",ki,v(a(e).env),1)),a(e).commit&&a(e).branch!=="release"?(u(),h(V,{key:4},[P(" · "),p(b,{external:"",href:`https://github.com/elk-zone/elk/commit/${a(e).commit}`,target:"_blank","font-mono":""},{default:$(()=>[P(v(a(e).shortCommit),1)]),_:1},8,["href"])],64)):D("",!0)]),l("div",null,[p(b,{"cursor-pointer":"","hover:underline":"",to:"/settings/about"},{default:$(()=>[P(v(f.$t("settings.about.label")),1)]),_:1}),a(o).public.privacyPolicyUrl?(u(),h(V,{key:0},[P(" · "),p(b,{"cursor-pointer":"","hover:underline":"",to:a(o).public.privacyPolicyUrl},{default:$(()=>[P(v(f.$t("nav.privacy")),1)]),_:1},8,["to"])],64)):D("",!0),P(" · "),p(b,{href:"/m.webtoo.ls/@elk",target:"_blank"},{default:$(()=>[P(" Mastodon ")]),_:1}),P(" · "),p(b,{href:"https://chat.elk.zone",target:"_blank",external:""},{default:$(()=>[P(" Discord ")]),_:1}),P(" · "),p(b,{href:"https://github.com/elk-zone/elk",target:"_blank",external:""},{default:$(()=>[P(" GitHub ")]),_:1})])])}}}),wi={flex:"~ center","items-end":"",mb2:"","gap-x-2":""},xi=["src","alt"],Si={"text-3xl":""},Ci=l("span",{"text-secondary-light":"",me1:""},"https://",-1),Di=["onKeydown"],Ei={key:0,absolute:"","left-6em":"","right-0":"",top:"100%","bg-base":"",rounded:"",border:"~ base","z-10":"",shadow:"","of-auto":"","overflow-y-auto":"",class:"max-h-[8rem]"},Ti=["id","value","onClick"],Mi={"min-h-4":""},Pi={key:0,role:"alert","p-0":"","m-0":"","text-xs":"","text-red-600":"","dark:text-red-400":""},Ii={"text-secondary":"","text-sm":"",flex:""},Ai=l("div",{"i-ri:lightbulb-line":"","me-1":""},null,-1),Vi=["disabled"],Ui={key:0,"aria-hidden":"true",block:"",animate:"","animate-spin":"","preserve-3d":"",class:"rtl-flip"},Gi=l("span",{block:"","i-ri:loader-2-fill":"","aria-hidden":"true"},null,-1),Oi=[Gi],Hi={key:1,"aria-hidden":"true",block:"","i-ri:login-circle-line":"",class:"rtl-flip"},Li=O({__name:"UserSignIn",setup(t){const e=E(),n=E([]),o=E(0),s=E(!1),{busy:r,error:i,displayError:c,server:d,oauth:f}=ln(e),g=no(new Mt([])),m=K(()=>{if(!d.value)return[];const w=g.value.search(d.value,{limit:6}).map(S=>S.item);return w[0]===d.value?[]:w});function b(w){try{return new URL(w),!0}catch{return!1}}async function k(){const w=d.value.trim();w.startsWith("https://")&&(d.value=w.replace("https://","")),w.length&&(c.value=!1),b(`https://${w}`)&&w.match(/^[a-z0-9-]+(\.[a-z0-9-]+)+(:[0-9]+)?$/i)&&!m.value.some(S=>S.includes(w))?s.value=!1:s.value=!0}function C(w){return w.replace(/[^\w-]/g,"-")}function T(w){if(m.value.length===0){o.value=0;return}o.value=(o.value+w+m.value.length)%m.value.length,document.querySelector(`#${C(m.value[o.value])}`)?.scrollIntoView(!1)}function I(w){s.value===!0&&m.value[o.value]&&(d.value=m.value[o.value],w.preventDefault(),s.value=!1)}function L(w){s.value&&(s.value=!1,w.stopPropagation())}function z(w){d.value=m.value[w]}return $e(async()=>{e?.value?.focus(),n.value=await globalThis.$fetch("/api/list-servers"),g.value=new Mt(n.value,{shouldSort:!0})}),oo(e,()=>{s.value=!1}),(w,S)=>{const J=ge,y=Ae("i18n-t");return u(),h("form",{"text-center":"","justify-center":"","items-center":"","max-w-150":"",py6:"",flex:"~ col gap-3",onSubmit:S[4]||(S[4]=gt((...x)=>a(f)&&a(f)(...x),["prevent"]))},[l("div",wi,[l("img",{src:"/logo.svg","w-12":"","h-12":"",mxa:"",height:"48",width:"48",alt:w.$t("app_logo"),class:"rtl-flip"},null,8,xi),l("div",Si,v(w.$t("action.sign_in")),1)]),l("div",null,v(w.$t("user.server_address_label")),1),l("div",{class:H(a(i)?"animate animate-shake-x animate-delay-100":null)},[l("div",{dir:"ltr",flex:"","bg-gray:10":"",px4:"",py2:"",mxa:"",rounded:"",border:"~ base","items-center":"","font-mono":"","focus:outline-none":"","focus:ring":"2 primary inset",relative:"",class:H(a(c)?"border-red-600 dark:border-red-400":null)},[Ci,j(l("input",{ref_key:"input",ref:e,"onUpdate:modelValue":S[0]||(S[0]=x=>U(d)?d.value=x:null),autocapitalize:"off",inputmode:"url","outline-none":"","bg-transparent":"","w-full":"","max-w-50":"",spellcheck:"false",autocorrect:"off",autocomplete:"off",onInput:k,onKeydown:[S[1]||(S[1]=Ne(x=>T(1),["down"])),S[2]||(S[2]=Ne(x=>T(-1),["up"])),Ne(I,["enter"]),Ne(gt(L,["prevent"]),["esc"])],onFocus:S[3]||(S[3]=x=>s.value=!0)},null,40,Di),[[ke,a(d)]]),a(s)&&a(m).length?(u(),h("div",Ei,[(u(!0),h(V,null,Q(a(m),(x,te)=>(u(),h("button",{id:C(x),key:x,value:x,"px-2":"",py1:"","font-mono":"","w-full":"","text-left":"",class:H(a(o)===te?"text-primary font-bold":null),onClick:me=>z(te)},v(x),11,Ti))),128))])):D("",!0)],2),l("div",Mi,[p(pn,{css:"","enter-active-class":"animate animate-fade-in"},{default:$(()=>[a(c)?(u(),h("p",Pi,v(w.$t("error.sign_in_error")),1)):D("",!0)]),_:1})])],2),l("div",Ii,[Ai,l("span",null,[p(y,{keypath:"user.tip_no_account"},{default:$(()=>[p(J,{href:"https://joinmastodon.org/servers",target:"_blank",external:"",class:"text-primary",hover:"underline"},{default:$(()=>[P(v(w.$t("user.tip_register_account")),1)]),_:1})]),_:1})])]),l("button",{flex:"~ row","gap-x-2":"","items-center":"","btn-solid":"",mt2:"",disabled:!a(d)||a(r)},[a(r)?(u(),h("span",Ui,Oi)):(u(),h("span",Hi)),P(" "+v(w.$t("action.sign_in")),1)],8,Vi)],32)}}}),Ni={"my-8":"","px-3":"","sm:px-8":"","md:max-w-200":"",flex:"~ col gap-4",relative:""},Ri=l("span",{"i-ri:close-line":""},null,-1),Ki=[Ri],zi=["alt","src"],Bi={mxa:"","text-4xl":"",mb4:""},Wi={"text-primary":""},Fi={flex:"~ gap-2 wrap justify-center",mxa:""},qi=["src","alt"],Yi={italic:"",flex:"","justify-center":"","w-full":""},ji={"text-xl":"","font-script":"","hover:text-primary":"",transition:"","duration-300":""},Xi=O({__name:"HelpPreview",emits:["close"],setup(t,{emit:e}){const n=e,o=s=>s.focus();return(s,r)=>{const i=ge;return u(),h("div",Ni,[j((u(),h("button",{type:"button","btn-action-icon":"",absolute:"","top--8":"","right-0":"",m1:"","aria-label":"Close",onClick:r[0]||(r[0]=c=>n("close"))},Ki)),[[o]]),l("img",{alt:s.$t("app_logo"),src:"/logo.svg","w-20":"","h-20":"",height:"80",width:"80",mxa:"",class:"rtl-flip"},null,8,zi),l("h1",Bi,v(s.$t("help.title")),1),l("p",null,v(s.$t("help.desc_para1")),1),l("p",null,[l("b",Wi,v(s.$t("help.desc_highlight")),1),P(" "+v(s.$t("help.desc_para2")),1)]),l("p",null,[P(v(s.$t("help.desc_para4"))+" ",1),p(i,{"font-bold":"","text-primary":"",href:"https://github.com/elk-zone/elk",target:"_blank"},{default:$(()=>[P(v(s.$t("help.desc_para5")),1)]),_:1}),P(" "+v(s.$t("help.desc_para6")),1)]),p(i,{"hover:text-primary":"",href:"https://github.com/sponsors/elk-zone",target:"_blank"},{default:$(()=>[P(v(s.$t("help.desc_para3")),1)]),_:1}),l("p",Fi,[(u(!0),h(V,null,Q("elkTeamMembers"in s?s.elkTeamMembers:a(so),c=>(u(),R(i,{key:c.github,href:c.link,target:"_blank",external:"","rounded-full":"",transition:"","duration-300":"",border:"~ transparent",hover:"scale-105 border-primary"},{default:$(()=>[l("img",{src:`/avatars/${c.github}-100x100.png`,alt:c.display,"rounded-full":"","w-15":"","h-15":"",height:"60",width:"60"},null,8,qi)]),_:2},1032,["href"]))),128))]),l("p",Yi,[p(i,{href:"https://github.com/sponsors/elk-zone",target:"_blank"},{default:$(()=>[l("span",ji,v(s.$t("help.footer_team")),1)]),_:1})]),l("button",{type:"button","btn-solid":"",mxa:"",onClick:r[1]||(r[1]=c=>n("close"))},v(s.$t("action.enter_app")),1)])}}});function Zi(){try{return"constructor"in GestureEvent}catch{return!1}}function wn(){return typeof window<"u"&&"ontouchstart"in window}function xn(t){return"pointerId"in t?null:t.type==="touchend"?t.changedTouches:t.targetTouches}function St(t){return Array.from(xn(t)).map(e=>e.identifier)}function oe(t){const e="buttons"in t?t.buttons:0,{shiftKey:n,altKey:o,metaKey:s,ctrlKey:r}=t;return{buttons:e,shiftKey:n,altKey:o,metaKey:s,ctrlKey:r}}const Ue=t=>t;function be(t,e=Ue){const n=xn(t),{clientX:o,clientY:s}=n?n[0]:t;return e([o,s])}function Bt(t,e,n=Ue){const[o,s]=Array.from(t.touches).filter(k=>e.includes(k.identifier));if(!o||!s)throw Error("The event doesn't have two pointers matching the pointerIds");const r=s.clientX-o.clientX,i=s.clientY-o.clientY,c=(s.clientX+o.clientX)/2,d=(s.clientY+o.clientY)/2,f=Math.hypot(r,i),g=-(Math.atan2(r,i)*180)/Math.PI,m=n([f,g]),b=n([c,d]);return{values:m,origin:b}}function Qi(t,e=Ue){const{scrollX:n,scrollY:o,scrollLeft:s,scrollTop:r}=t.currentTarget;return e([n||s||0,o||r||0])}const Wt=40,Ft=800;function Sn(t,e=Ue){let{deltaX:n,deltaY:o,deltaMode:s}=t;return s===1?(n*=Wt,o*=Wt):s===2&&(n*=Ft,o*=Ft),e([n,o])}function qt(t,e=Ue){return e([t.scale,t.rotation])}function Cn(){}function Dn(...t){return t.length===0?Cn:t.length===1?t[0]:function(){var e;for(let n of t)e=n.apply(this,arguments)||e;return e}}function he(t,e){if(t===void 0){if(e===void 0)throw new Error("Must define fallback value if undefined is expected");t=e}return Array.isArray(t)?t:[t,t]}function Yt(t,e){return Object.assign({},e,t||{})}function Ze(t,...e){return typeof t=="function"?t(...e):t}function Se(t){return{_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:Cn,canceled:!1,memo:void 0,args:void 0,...t}}function yt(){const t={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},e=Se({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),n=Se({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),o=Se({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),s=Se({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),r=Se({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:t,drag:e,pinch:n,wheel:o,move:s,scroll:r}}var Ji=Object.defineProperty,ea=(t,e,n)=>e in t?Ji(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ee=(t,e,n)=>(ea(t,typeof e!="symbol"?e+"":e,n),n);class ta{constructor(e){this.classes=e,ee(this,"nativeRefs"),ee(this,"config"),ee(this,"handlers"),ee(this,"state"),ee(this,"timeouts"),ee(this,"domListeners"),ee(this,"windowListeners"),ee(this,"pointerIds",new Set),ee(this,"touchIds",new Set),ee(this,"supportsTouchEvents",wn()),ee(this,"supportsGestureEvents",Zi()),ee(this,"bind",(...n)=>{const o={};for(let s of this.classes)new s(this,n).addBindings(o);for(let s in this.nativeRefs)N(o,s,r=>this.nativeRefs[s]({...this.state.shared,event:r,args:n}));return this.config.domTarget?ia(this,o):aa(this,o)}),ee(this,"clean",()=>{const{eventOptions:n,domTarget:o}=this.config,s=a(o);s&&Ge(s,Mn(this.domListeners),n),Object.values(this.timeouts).forEach(clearTimeout),na(this)}),ee(this,"reset",()=>{this.state=yt()}),this.classes=e,this.state=yt(),this.timeouts={},this.domListeners=[],this.windowListeners={}}}function En(t,e){"pointerId"in e?t.pointerIds.add(e.pointerId):t.touchIds=new Set(St(e))}function Tn(t,e){"pointerId"in e?t.pointerIds.delete(e.pointerId):St(e).forEach(n=>t.touchIds.delete(n))}function na(t){const{config:{window:e,eventOptions:n},windowListeners:o}=t,s=a(e);if(s){for(let r in o){const i=o[r];Ge(s,i,n)}t.windowListeners={}}}function oa({config:t,windowListeners:e},n,o=t.eventOptions){const s=a(t.window);s&&(Ge(s,e[n],o),delete e[n])}function sa({config:t,windowListeners:e},n,o=[],s=t.eventOptions){const r=a(t.window);r&&(Ge(r,e[n],s),Pn(r,e[n]=o,s))}function ia({config:t,domListeners:e},n){const{eventOptions:o,domTarget:s}=t,r=a(s);if(!r)throw new Error("domTarget must be defined");Ge(r,Mn(e),o);for(let[i,c]of Object.entries(n)){const d=i.slice(2).toLowerCase();e.push([d,Dn(...c)])}Pn(r,e,o)}function aa({config:t},e){const n={},o=t.eventOptions.capture?"Capture":"";for(let[s,r]of Object.entries(e)){const i=Array.isArray(r)?r:[r],c=s+o;n[c]=Dn(...i)}return n}function Mn(t=[]){return t.splice(0,t.length)}function N(t,e,n){t[e]||(t[e]=[]),t[e].push(n)}function Pn(t,e=[],n={}){if(t)for(let[o,s]of e)t.addEventListener(o,s,n)}function Ge(t,e=[],n={}){if(t)for(let[o,s]of e)t.removeEventListener(o,s,n)}function Qe(t,e){return t.map((n,o)=>n+e[o])}function Ct(t,e){return t.map((n,o)=>n-e[o])}function Pe(t){return Math.hypot(...t)}function In(t,e=t){const n=Pe(e),o=n===0?0:1/n,s=e.map(i=>o*i);return{distance:Pe(t),direction:s}}function An(t,e,n){const o=Pe(e),s=o===0?0:1/o,r=n===0?0:1/n,i=r*o,c=e.map(g=>r*g),d=e.map(g=>s*g),f=Pe(t);return{velocities:c,velocity:i,distance:f,direction:d}}function Je(t){return Math.sign?Math.sign(t):+(t>0)-+(t<0)||+t}function ra(t,e,n){return Math.max(e,Math.min(t,n))}function la(t,e){return Math.pow(t,e*5)}function jt(t,e,n){return e===0||Math.abs(e)===1/0?la(t,n):t*e*n/(e+n*t)}function Xt(t,e,n,o=.15){return o===0?ra(t,e,n):t<e?-jt(e-t,n-e,o)+e:t>n?+jt(t-n,n-e,o)+n:t}var ca=Object.defineProperty,ua=(t,e,n)=>e in t?ca(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,We=(t,e,n)=>(ua(t,typeof e!="symbol"?e+"":e,n),n);const se=new Map,da=t=>t;class Vn{constructor(e,n=[]){this.controller=e,this.args=n,We(this,"debounced",!0),We(this,"setTimeout",(o,s=140,...r)=>{clearTimeout(this.controller.timeouts[this.stateKey]),this.controller.timeouts[this.stateKey]=window.setTimeout(o,s,...r)}),We(this,"clearTimeout",()=>{clearTimeout(this.controller.timeouts[this.stateKey])}),We(this,"fireGestureHandler",(o=!1)=>{if(this.state._blocked)return this.debounced||(this.state._active=!1,this.clean()),null;if(!o&&!this.state.intentional&&!this.config.triggerAllEvents)return null;if(this.state.intentional){const d=this.state.active,f=this.state._active;this.state.active=f,this.state.first=f&&!d,this.state.last=d&&!f,this.controller.state.shared[this.ingKey]=f}const s=this.controller.pointerIds.size||this.controller.touchIds.size,r=this.controller.state.shared.buttons>0||s>0,i={...this.controller.state.shared,...this.state,...this.mapStateValues(this.state),locked:!!document.pointerLockElement,touches:s,down:r},c=this.handler(i);return this.state.memo=c!==void 0?c:this.state.memo,i}),this.controller=e,this.args=n}get config(){return this.controller.config[this.stateKey]}get enabled(){return this.controller.config.enabled&&this.config.enabled}get state(){return this.controller.state[this.stateKey]}get handler(){return this.controller.handlers[this.stateKey]}get transform(){return this.config.transform||this.controller.config.transform||da}updateSharedState(e){Object.assign(this.controller.state.shared,e)}updateGestureState(e){Object.assign(this.state,e)}checkIntentionality(e,n){return{_intentional:e,_blocked:!1}}getMovement(e){const{rubberband:n,threshold:o}=this.config,{_bounds:s,_initial:r,_active:i,_intentional:c,lastOffset:d,movement:f}=this.state,g=this.getInternalMovement(e,this.state),m=this.transform(o).map(Math.abs),b=c[0]===!1?Zt(g[0],m[0]):c[0],k=c[1]===!1?Zt(g[1],m[1]):c[1],C=this.checkIntentionality([b,k],g);if(C._blocked)return{...C,_movement:g,delta:[0,0]};const T=C._intentional,I=g;let L=[T[0]!==!1?g[0]-T[0]:0,T[1]!==!1?g[1]-T[1]:0];const z=Qe(L,d),w=i?n:[0,0];return L=Qt(s,Qe(L,r),w),{...C,intentional:T[0]!==!1||T[1]!==!1,_initial:r,_movement:I,movement:L,values:e,offset:Qt(s,z,w),delta:Ct(L,f)}}clean(){this.clearTimeout()}}function Zt(t,e){return Math.abs(t)>=e?Je(t)*e:!1}function Qt(t,[e,n],[o,s]){const[[r,i],[c,d]]=t;return[Xt(e,r,i,o),Xt(n,c,d,s)]}function W({state:t},e,n){const{timeStamp:o,type:s}=e,r=t.values,i=n?0:o-t.startTime;return{_lastEventType:s,event:e,timeStamp:o,elapsedTime:i,previous:r}}function ve({state:t,config:e,stateKey:n,args:o},s,r){const i=t.offset,c=r.timeStamp,{initial:d,bounds:f}=e,g={...yt()[n],_active:!0,args:o,values:s,initial:s,offset:i,lastOffset:i,startTime:c};return{...g,_initial:Ze(d,g),_bounds:Ze(f,g)}}class st extends Vn{getInternalMovement(e,n){return Ct(e,n.initial)}checkIntentionality(e,n){if(e[0]===!1&&e[1]===!1)return{_intentional:e,axis:this.state.axis};const[o,s]=n.map(Math.abs),r=this.state.axis||(o>s?"x":o<s?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:e,_blocked:!1,axis:r}:r?this.config.axis&&r!==this.config.axis?{_intentional:e,_blocked:!0,axis:r}:(e[r==="x"?1:0]=!1,{_intentional:e,_blocked:!1,axis:r}):{_intentional:[!1,!1],_blocked:!1,axis:r}}getKinematics(e,n){const o=this.getMovement(e);if(!o._blocked){const s=n.timeStamp-this.state.timeStamp;Object.assign(o,An(o.movement,o.delta,s))}return o}mapStateValues(e){return{xy:e.values,vxvy:e.velocities}}}var ha=Object.defineProperty,ma=(t,e,n)=>e in t?ha(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q=(t,e,n)=>(ma(t,typeof e!="symbol"?e+"":e,n),n);const fa=3;function Jt(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}class pa extends st{constructor(){super(...arguments),q(this,"ingKey","dragging"),q(this,"stateKey","drag"),q(this,"setPointerCapture",e=>{if(this.config.useTouch||document.pointerLockElement)return;const{target:n,pointerId:o}=e;n&&"setPointerCapture"in n&&n.setPointerCapture(o),this.updateGestureState({_dragTarget:n,_dragPointerId:o})}),q(this,"releasePointerCapture",()=>{if(this.config.useTouch||document.pointerLockElement)return;const{_dragTarget:e,_dragPointerId:n}=this.state;if(n&&e&&"releasePointerCapture"in e&&(!("hasPointerCapture"in e)||e.hasPointerCapture(n)))try{e.releasePointerCapture(n)}catch{}}),q(this,"preventScroll",e=>{this.state._dragPreventScroll&&e.cancelable&&e.preventDefault()}),q(this,"getEventId",e=>this.config.useTouch?e.changedTouches[0].identifier:e.pointerId),q(this,"isValidEvent",e=>this.state._pointerId===this.getEventId(e)),q(this,"shouldPreventWindowScrollY",this.config.preventWindowScrollY&&this.controller.supportsTouchEvents),q(this,"setUpWindowScrollDetection",e=>{Jt(e),sa(this.controller,this.stateKey,[["touchmove",this.preventScroll],["touchend",this.clean.bind(this)],["touchcancel",this.clean.bind(this)]],{passive:!1}),this.setTimeout(this.startDrag.bind(this),250,e)}),q(this,"setUpDelayedDragTrigger",e=>{this.state._dragDelayed=!0,Jt(e),this.setTimeout(this.startDrag.bind(this),this.config.delay,e)}),q(this,"setStartState",e=>{const n=be(e,this.transform);this.updateSharedState(oe(e)),this.updateGestureState({...ve(this,n,e),...W(this,e,!0),_pointerId:this.getEventId(e)}),this.updateGestureState(this.getMovement(n))}),q(this,"onDragStart",e=>{En(this.controller,e),!(!this.enabled||this.state._active)&&(this.setStartState(e),this.setPointerCapture(e),this.shouldPreventWindowScrollY?this.setUpWindowScrollDetection(e):this.config.delay>0?this.setUpDelayedDragTrigger(e):this.startDrag(e,!0))}),q(this,"onDragChange",e=>{if(this.state.canceled||!this.state._active||!this.isValidEvent(e)||this.state._lastEventType===e.type&&e.timeStamp===this.state.timeStamp)return;let n;if(document.pointerLockElement){const{movementX:d,movementY:f}=e;n=Qe(this.transform([d,f]),this.state.values)}else n=be(e,this.transform);const o=this.getKinematics(n,e);if(!this.state._dragStarted){if(this.state._dragDelayed){this.startDrag(e);return}if(this.shouldPreventWindowScrollY)if(!this.state._dragPreventScroll&&o.axis)if(o.axis==="x")this.startDrag(e);else{this.state._active=!1;return}else return;else return}const s=oe(e);this.updateSharedState(s);const r=W(this,e),i=Pe(o._movement);let{_dragIsTap:c}=this.state;c&&i>=fa&&(c=!1),this.updateGestureState({...r,...o,_dragIsTap:c}),this.fireGestureHandler()}),q(this,"onDragEnd",e=>{if(Tn(this.controller,e),!this.isValidEvent(e)||(this.clean(),!this.state._active))return;this.state._active=!1;const n=this.state._dragIsTap,[o,s]=this.state.velocities,[r,i]=this.state.movement,[c,d]=this.state._intentional,[f,g]=this.config.swipeVelocity,[m,b]=this.config.swipeDistance,k=this.config.swipeDuration,C={...W(this,e),...this.getMovement(this.state.values)},T=[0,0];C.elapsedTime<k&&(c!==!1&&Math.abs(o)>f&&Math.abs(r)>m&&(T[0]=Je(o)),d!==!1&&Math.abs(s)>g&&Math.abs(i)>b&&(T[1]=Je(s))),this.updateSharedState({buttons:0}),this.updateGestureState({...C,tap:n,swipe:T}),this.fireGestureHandler(this.config.filterTaps&&n===!0)}),q(this,"clean",()=>{super.clean(),this.state._dragStarted=!1,this.releasePointerCapture(),oa(this.controller,this.stateKey)}),q(this,"onCancel",()=>{this.state.canceled||(this.updateGestureState({canceled:!0,_active:!1}),this.updateSharedState({buttons:0}),sn(this.fireGestureHandler))}),q(this,"onClick",e=>{this.state._dragIsTap||e.stopPropagation()})}startDrag(e,n=!1){!this.state._active||this.state._dragStarted||(n||this.setStartState(e),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())}addBindings(e){if(this.config.useTouch?(N(e,"onTouchStart",this.onDragStart),N(e,"onTouchMove",this.onDragChange),N(e,"onTouchEnd",this.onDragEnd),N(e,"onTouchCancel",this.onDragEnd)):(N(e,"onPointerDown",this.onDragStart),N(e,"onPointerMove",this.onDragChange),N(e,"onPointerUp",this.onDragEnd),N(e,"onPointerCancel",this.onDragEnd)),this.config.filterTaps){const n=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";N(e,n,this.onClick)}}}function Oe(t={},e){const n={};for(const[o,s]of Object.entries(e))switch(typeof s){case"function":n[o]=s.call(n,t[o],o,t);break;case"object":n[o]=Oe(t[o],s);break;case"boolean":s&&(n[o]=t[o]);break}return n}const va=180,ga=.15,_a=.5,ba=50,ya=250,Un={threshold(t=0){return he(t)},rubberband(t=0){switch(t){case!0:return he(ga);case!1:return he(0);default:return he(t)}},enabled(t=!0){return t},triggerAllEvents(t=!1){return t},initial(t=0){return typeof t=="function"?t:he(t)},transform:!0},Dt={...Un,axis:!0,lockDirection(t=!1){return t},bounds(t={}){if(typeof t=="function")return r=>Dt.bounds(t(r));const{left:e=-1/0,right:n=1/0,top:o=-1/0,bottom:s=1/0}=t;return[[e,n],[o,s]]}},ka=typeof window<"u"&&window.document&&window.document.createElement,$a={enabled(t=!0){return t},domTarget:!0,window(t=ka?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform:!0},wa={...Un,bounds(t,e,{distanceBounds:n={},angleBounds:o={}}){const s=i=>{const c=Yt(Ze(n,i),{min:-1/0,max:1/0});return[c.min,c.max]},r=i=>{const c=Yt(Ze(o,i),{min:-1/0,max:1/0});return[c.min,c.max]};return typeof n!="function"&&typeof o!="function"?[s(),r()]:i=>[s(i),r(i)]}},xa={...Dt,useTouch(t=!0){return t&&wn()},preventWindowScrollY(t=!1){return t},threshold(t,e,{filterTaps:n=!1,lockDirection:o=!1,axis:s=void 0}){const r=he(t,n?3:o||s?1:0);return this.filterTaps=n,r},swipeVelocity(t=_a){return he(t)},swipeDistance(t=ba){return he(t)},swipeDuration(t=ya){return t},delay(t=0){switch(t){case!0:return va;case!1:return 0;default:return t}}};function Sa(t){return Oe(t,$a)}function vt(t={}){return Oe(t,Dt)}function Ca(t={}){return Oe(t,wa)}function Da(t={}){return Oe(t,xa)}function Ea(t,e=new Set){const{drag:n,wheel:o,move:s,scroll:r,pinch:i,hover:c,eventOptions:d,window:f,transform:g,domTarget:m,enabled:b}=t,k=Sa({domTarget:m,eventOptions:d,transform:g,window:f,enabled:b});return e.has("onDrag")&&(k.drag=Da(n)),e.has("onWheel")&&(k.wheel=vt(o)),e.has("onScroll")&&(k.scroll=vt(r)),e.has("onMove")&&(k.move=vt(s)),e.has("onPinch")&&(k.pinch=Ca(i)),e.has("onHover")&&(k.hover={enabled:!0,...c}),k}function Ta(t,e,n={}){const o=Ma(t),s=new ta(o);return s.config=e,s.handlers=t,s.nativeRefs=n,io()&&!e.manual&&($e(s.bind),vn(s.clean)),s}function Ma(t){const e=new Set;return t.drag&&e.add(se.get("drag")),t.wheel&&e.add(se.get("wheel")),t.scroll&&e.add(se.get("scroll")),t.move&&e.add(se.get("move")),t.pinch&&e.add(se.get("pinch")),t.hover&&e.add(se.get("hover")),e}var Pa=Object.defineProperty,Ia=(t,e,n)=>e in t?Pa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ce=(t,e,n)=>(Ia(t,typeof e!="symbol"?e+"":e,n),n);class en extends st{constructor(){super(...arguments),ce(this,"ingKey","moving"),ce(this,"stateKey","move"),ce(this,"debounced",!0),ce(this,"onMove",e=>{this.enabled&&(this.setTimeout(this.onMoveEnd),this.state._active?this.onMoveChange(e):this.onMoveStart(e))}),ce(this,"onMoveStart",e=>{this.updateSharedState(oe(e));const n=be(e,this.transform);this.updateGestureState({...ve(this,n,e),...W(this,e,!0)}),this.updateGestureState(this.getMovement(n)),this.fireGestureHandler()}),ce(this,"onMoveChange",e=>{this.updateSharedState(oe(e));const n=be(e,this.transform);this.updateGestureState({...W(this,e),...this.getKinematics(n,e)}),this.fireGestureHandler()}),ce(this,"onMoveEnd",()=>{if(this.clean(),!this.state._active)return;const e=this.state.values;this.updateGestureState(this.getMovement(e)),this.updateGestureState({velocities:[0,0],velocity:0,_active:!1}),this.fireGestureHandler()}),ce(this,"hoverTransform",()=>this.controller.config.hover.transform||this.controller.config.transform),ce(this,"onPointerEnter",e=>{if(this.controller.state.shared.hovering=!0,!!this.controller.config.enabled){if(this.controller.config.hover.enabled){const n=be(e,this.hoverTransform()),o={...this.controller.state.shared,...this.state,...W(this,e,!0),args:this.args,values:n,active:!0,hovering:!0};this.controller.handlers.hover({...o,...this.mapStateValues(o)})}"move"in this.controller.handlers&&this.onMoveStart(e)}}),ce(this,"onPointerLeave",e=>{if(this.controller.state.shared.hovering=!1,"move"in this.controller.handlers&&this.onMoveEnd(),!this.controller.config.hover.enabled)return;const n=be(e,this.hoverTransform()),o={...this.controller.state.shared,...this.state,...W(this,e),args:this.args,values:n,active:!1};this.controller.handlers.hover({...o,...this.mapStateValues(o)})})}addBindings(e){"move"in this.controller.handlers&&N(e,"onPointerMove",this.onMove),"hover"in this.controller.handlers&&(N(e,"onPointerEnter",this.onPointerEnter),N(e,"onPointerLeave",this.onPointerLeave))}}class Aa extends Vn{getInternalMovement(e,n){const o=n.values[1];let[s,r=o]=e,i=r-o,c=n.turns;return Math.abs(i)>270&&(c+=Je(i)),Ct([s,r-360*c],n.initial)}getKinematics(e,n){const o=this.getMovement(e),s=(e[1]-o._movement[1]-this.state.initial[1])/360,r=n.timeStamp-this.state.timeStamp,{distance:i,velocity:c,...d}=An(o.movement,o.delta,r);return{turns:s,...o,...d}}mapStateValues(e){return{da:e.values,vdva:e.velocities}}}var Va=Object.defineProperty,Ua=(t,e,n)=>e in t?Va(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Z=(t,e,n)=>(Ua(t,typeof e!="symbol"?e+"":e,n),n);const Ga=7,Oa=260;class Ha extends Aa{constructor(){super(...arguments),Z(this,"ingKey","pinching"),Z(this,"stateKey","pinch"),Z(this,"onPinchStart",e=>{En(this.controller,e);const n=this.controller.touchIds;if(!this.enabled||this.state._active&&this.state._pointerIds.every(i=>n.has(i))||n.size<2)return;const o=Array.from(n).slice(0,2),{values:s,origin:r}=Bt(e,o,this.transform);this.updateSharedState(oe(e)),this.updateGestureState({...ve(this,s,e),...W(this,e,!0),_pointerIds:o,cancel:this.onCancel,origin:r}),this.updateGestureState(this.getMovement(s)),this.fireGestureHandler()}),Z(this,"onPinchChange",e=>{const{canceled:n,_active:o}=this.state;if(n||!o||e.timeStamp===this.state.timeStamp)return;const s=oe(e);this.updateSharedState(s);try{const{values:r,origin:i}=Bt(e,this.state._pointerIds,this.transform),c=this.getKinematics(r,e);this.updateGestureState({...W(this,e),...c,origin:i}),this.fireGestureHandler()}catch{this.onPinchEnd(e)}}),Z(this,"onPinchEnd",e=>{Tn(this.controller,e);const n=St(e);this.state._pointerIds.every(o=>!n.includes(o))||(this.clean(),this.state._active&&(this.updateGestureState({...W(this,e),...this.getMovement(this.state.values),_active:!1}),this.fireGestureHandler()))}),Z(this,"onCancel",()=>{this.state.canceled||(this.updateGestureState({_active:!1,canceled:!0}),this.fireGestureHandler())}),Z(this,"onGestureStart",e=>{if(!this.enabled)return;e.preventDefault();const n=qt(e,this.transform);this.updateSharedState(oe(e)),this.updateGestureState({...ve(this,n,e),...W(this,e,!0),origin:[e.clientX,e.clientY],cancel:this.onCancel}),this.updateGestureState(this.getMovement(n)),this.fireGestureHandler()}),Z(this,"onGestureChange",e=>{const{canceled:n,_active:o}=this.state;if(n||!o)return;e.preventDefault();const s=oe(e);this.updateSharedState(s);const r=qt(e,this.transform);r[0]=(r[0]-this.state.event.scale)*Oa+this.state.values[0];const i=this.getKinematics(r,e);this.updateGestureState({...W(this,e),...i,origin:[e.clientX,e.clientY]}),this.fireGestureHandler()}),Z(this,"onGestureEnd",e=>{this.clean(),this.state._active&&(this.updateGestureState({...W(this,e),...this.getMovement(this.state.values),_active:!1,origin:[e.clientX,e.clientY]}),this.fireGestureHandler())}),Z(this,"wheelShouldRun",e=>this.enabled&&e.ctrlKey),Z(this,"getWheelValuesFromEvent",e=>{const[,n]=Sn(e,this.transform),{values:[o,s]}=this.state;return{values:[o-n*Ga,s!==void 0?s:0],origin:[e.clientX,e.clientY],delta:[0,n]}}),Z(this,"onWheel",e=>{this.wheelShouldRun(e)&&(this.setTimeout(this.onWheelEnd),this.state._active?this.onWheelChange(e):this.onWheelStart(e))}),Z(this,"onWheelStart",e=>{const{values:n,delta:o,origin:s}=this.getWheelValuesFromEvent(e);e.cancelable&&e.preventDefault(),this.updateSharedState(oe(e)),this.updateGestureState({...ve(this,n,e),...W(this,e,!0),initial:this.state.values,offset:n,delta:o,origin:s}),this.updateGestureState(this.getMovement(n)),this.fireGestureHandler()}),Z(this,"onWheelChange",e=>{e.cancelable&&e.preventDefault(),this.updateSharedState(oe(e));const{values:n,origin:o,delta:s}=this.getWheelValuesFromEvent(e);this.updateGestureState({...W(this,e),...this.getKinematics(n,e),origin:o,delta:s}),this.fireGestureHandler()}),Z(this,"onWheelEnd",()=>{this.clean(),this.state._active&&(this.state._active=!1,this.updateGestureState(this.getMovement(this.state.values)),this.fireGestureHandler())})}addBindings(e){this.controller.config.domTarget&&!this.controller.supportsTouchEvents&&this.controller.supportsGestureEvents?(N(e,"onGestureStart",this.onGestureStart),N(e,"onGestureChange",this.onGestureChange),N(e,"onGestureEnd",this.onGestureEnd)):(N(e,"onTouchStart",this.onPinchStart),N(e,"onTouchMove",this.onPinchChange),N(e,"onTouchEnd",this.onPinchEnd),N(e,"onTouchCancel",this.onPinchEnd),N(e,"onWheel",this.onWheel))}}var La=Object.defineProperty,Na=(t,e,n)=>e in t?La(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ce=(t,e,n)=>(Na(t,typeof e!="symbol"?e+"":e,n),n);class Ra extends st{constructor(){super(...arguments),Ce(this,"ingKey","scrolling"),Ce(this,"stateKey","scroll"),Ce(this,"debounced",!0),Ce(this,"handleEvent",e=>{if(!this.enabled)return;this.clearTimeout(),this.setTimeout(this.onEnd);const n=Qi(e,this.transform);if(this.updateSharedState(oe(e)),this.state._active)this.updateGestureState({...W(this,e),...this.getKinematics(n,e)});else{this.updateGestureState({...ve(this,n,e),...W(this,e,!0),initial:this.state.values});const o=this.getMovement(n),s=In(o.delta);this.updateGestureState(o),this.updateGestureState(s)}this.fireGestureHandler()}),Ce(this,"onEnd",()=>{this.clean(),this.state._active&&(this.updateGestureState({...this.getMovement(this.state.values),_active:!1,velocities:[0,0],velocity:0}),this.fireGestureHandler())})}addBindings(e){N(e,"onScroll",this.handleEvent)}}var Ka=Object.defineProperty,za=(t,e,n)=>e in t?Ka(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,De=(t,e,n)=>(za(t,typeof e!="symbol"?e+"":e,n),n);class Ba extends st{constructor(){super(...arguments),De(this,"ingKey","wheeling"),De(this,"stateKey","wheel"),De(this,"debounced",!0),De(this,"handleEvent",e=>{if(e.ctrlKey&&"pinch"in this.controller.handlers||!this.enabled)return;this.setTimeout(this.onEnd),this.updateSharedState(oe(e));const n=Qe(Sn(e,this.transform),this.state.values);if(this.state._active)this.updateGestureState({...W(this,e),...this.getKinematics(n,e)});else{this.updateGestureState({...ve(this,n,e),...W(this,e,!0),initial:this.state.values});const o=this.getMovement(n),s=In(o.delta);this.updateGestureState(o),this.updateGestureState(s)}this.fireGestureHandler()}),De(this,"onEnd",()=>{if(this.clean(),!this.state._active)return;const e=this.getMovement(this.state.values);this.updateGestureState(e),this.updateGestureState({_active:!1,velocities:[0,0],velocity:0}),this.fireGestureHandler()})}addBindings(e){N(e,"onWheel",this.handleEvent)}}const Wa=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function Fa(t){const e={},n={},o=new Set;for(let s in t)Wa.test(s)?(o.add(RegExp.lastMatch),n[s]=t[s]):e[s]=t[s];return[n,e,o]}function qa(t,e){const[n,o,s]=Fa(t);se.set("drag",pa),se.set("hover",en),se.set("move",en),se.set("pinch",Ha),se.set("scroll",Ra),se.set("wheel",Ba);const r=Ea(e,s),i={};return s.has("onDrag")&&(i.drag=Ee(n,"onDrag")),s.has("onWheel")&&(i.wheel=Ee(n,"onWheel")),s.has("onScroll")&&(i.scroll=Ee(n,"onScroll")),s.has("onMove")&&(i.move=Ee(n,"onMove")),s.has("onPinch")&&(i.pinch=Ee(n,"onPinch")),s.has("onHover")&&(i.hover=n.onHover),Ta(i,r,o)}function Ee(t,e){const n=e+"Start",o=e+"End";return r=>{let i;return r.first&&n in t&&t[n](r),e in t&&(i=t[e](r)),r.last&&o in t&&t[o](r),i}}const Gn=1/60*1e3,Ya=typeof performance<"u"?()=>performance.now():()=>Date.now(),On=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(Ya()),Gn);function ja(t){let e=[],n=[],o=0,s=!1,r=!1;const i=new WeakSet,c={schedule:(d,f=!1,g=!1)=>{const m=g&&s,b=m?e:n;return f&&i.add(d),b.indexOf(d)===-1&&(b.push(d),m&&s&&(o=e.length)),d},cancel:d=>{const f=n.indexOf(d);f!==-1&&n.splice(f,1),i.delete(d)},process:d=>{if(s){r=!0;return}if(s=!0,[e,n]=[n,e],n.length=0,o=e.length,o)for(let f=0;f<o;f++){const g=e[f];g(d),i.has(g)&&(c.schedule(g),t())}s=!1,r&&(r=!1,c.process(d))}};return c}const Xa=40;let kt=!0,Ie=!1,$t=!1;const Me={delta:0,timestamp:0},He=["read","update","preRender","render","postRender"],it=He.reduce((t,e)=>(t[e]=ja(()=>Ie=!0),t),{});He.reduce((t,e)=>{const n=it[e];return t[e]=(o,s=!1,r=!1)=>(Ie||Qa(),n.schedule(o,s,r)),t},{});He.reduce((t,e)=>(t[e]=it[e].cancel,t),{});He.reduce((t,e)=>(t[e]=()=>it[e].process(Me),t),{});const Za=t=>it[t].process(Me),Hn=t=>{Ie=!1,Me.delta=kt?Gn:Math.max(Math.min(t-Me.timestamp,Xa),1),Me.timestamp=t,$t=!0,He.forEach(Za),$t=!1,Ie&&(kt=!1,On(Hn))},Qa=()=>{Ie=!0,kt=!0,$t||On(Hn)},Ja=["","X","Y","Z"],er=["perspective","translate","scale","rotate","skew"],Ln=["transformPerspective","x","y","z"];er.forEach(t=>{Ja.forEach(e=>{const n=t+e;Ln.push(n)})});new Set(Ln);function tr(t={}){return ao("(prefers-reduced-motion: reduce)",t)}const nr=["src","alt"],Fe=20,or=250,sr=O({__name:"ModalMediaPreviewCarousel",props:Pt({media:{default:()=>[]}},{modelValue:{required:!0},modelModifiers:{}}),emits:Pt(["close"],["update:modelValue"]),setup(t,{emit:e}){const n=e,o=Xe(t,"modelValue"),s=E(),r=E(),i=E(),c=E(),d=tr(),f=ro(350),g=K(()=>f.value&&!d.value),m=E(1),b=E(0),k=E(0),C=E(!1),T=E(!1),I=E(1),L=K(()=>m.value>1);function z(){m.value=1,b.value=i.value[o.value].offsetLeft*m.value,k.value=0}$e(()=>{const M=Fe/s.value.clientWidth;I.value=1-M,z()}),xt(o,z);let w=[0,0],S=0;qa({onPinch({first:M,initial:[A],movement:[B],da:[X],origin:F,touches:le}){T.value=!0,M?S=m.value:le===0?x(S,B,F):y(S,A,X,F),w=F},onPinchEnd(){T.value=!1,C.value=!1,L.value||z()},onDrag({movement:M,delta:A,pinching:B,tap:X,last:F,swipe:le,event:pe,xy:Le}){pe.preventDefault(),!B&&(F?te(X,le,M,Le):ue(A,M))}},{domTarget:s,eventOptions:{passive:!1}});const J=K(()=>{const M=c.value[o.value],A=i.value[o.value],X=M.offsetWidth*m.value/2-s.value.clientWidth/2+Fe,F=Math.max(0,X/m.value),pe=M.offsetHeight*m.value/2-s.value.clientHeight/2+Fe,Le=Math.max(0,pe/m.value);return{left:A.offsetLeft-F,right:A.offsetLeft+F,top:A.offsetTop-Le,bottom:A.offsetTop+Le}});function y(M,A,B,[X,F]){m.value=M*(B/A),m.value=Math.max(I.value,m.value);const le=X-w[0],pe=F-w[1];fe([le,pe])}function x(M,A,[B,X]){m.value=M+A/1e3,m.value=Math.max(I.value,m.value);const F=w[0]-B,le=w[1]-X;fe([F,le])}function te(M,A,B,X){C.value=!1,M?_(X):A[0]||A[1]?G(A,B):L.value||ne()}let me=0;function _([M,A]){const B=Date.now(),X=B-me<or;if(me=B,!!X)if(L.value)z();else{const F=i.value[o.value].getBoundingClientRect(),le=F.left+F.width/2,pe=F.top+F.height/2;m.value=3,b.value+=M-le,k.value+=A-pe,ae()}}function G([M,A],[B,X]){if(L.value||T.value)return;Math.abs(B)>=Math.abs(X)?(M===1&&(o.value=Math.max(0,o.value-1)),M===-1&&(o.value=Math.min(t.media.length-1,o.value+1))):(A===1||A===-1)&&n("close"),z()}function ne(){const M=i.value[o.value].offsetLeft*m.value,A=i.value[o.value].offsetWidth*m.value;b.value>M+A/2?o.value=Math.min(t.media.length-1,o.value+1):b.value<M-A/2&&(o.value=Math.max(0,o.value-1)),z()}function ue(M,A){C.value=!0,L.value?fe(M):we(A)}function fe([M,A]){b.value-=M/m.value,k.value-=A/m.value,ae()}function we([M,A]){z(),Math.abs(A)>Math.abs(M)?k.value-=A/m.value:b.value-=M/m.value,t.media.length===1&&(b.value=0)}function ae(){b.value=Math.min(J.value.right,Math.max(J.value.left,b.value)),k.value=Math.min(J.value.bottom,Math.max(J.value.top,k.value))}const at=K(()=>{const M={transform:`scale(${m.value}) translate(${-b.value}px, ${-k.value}px)`,transition:"none",gap:`${Fe}px`};return g.value&&!C.value&&!T.value&&(M.transition="all 0.3s ease"),M}),re=K(()=>({cursor:C.value?"grabbing":"grab"}));return(M,A)=>(u(),h("div",{ref_key:"view",ref:s,flex:"","flex-row":"","h-full":"","w-full":"","overflow-hidden":""},[l("div",{ref_key:"slider",ref:r,style:je(a(at)),"w-full":"","h-full":"",flex:"","items-center":""},[(u(!0),h(V,null,Q(M.media,B=>(u(),h("div",{key:B.id,ref_for:!0,ref_key:"slide",ref:i,"flex-shrink-0":"","w-full":"","h-full":"",flex:"","items-center":"","justify-center":""},[l("img",{ref_for:!0,ref_key:"image",ref:c,"select-none":"","max-w-full":"","max-h-full":"",style:je(a(re)),draggable:!1,src:B.url||B.previewUrl,alt:B.description||""},null,12,nr)]))),128))],4)],512))}}),ir=["aria-label","title"],ar=l("div",{"i-ri:arrow-right-s-line":"","text-white":""},null,-1),rr=[ar],lr=["title"],cr=l("div",{"i-ri:arrow-left-s-line":"","text-white":""},null,-1),ur=[cr],dr={flex:"~ col center","h-full":"","w-full":""},hr={bg:"black/30","dark:bg":"white/10","mb-6":"","mt-4":"","text-white":"","rounded-full":"",flex:"~ center shrink-0","overflow-hidden":""},mr={key:0,p:"y-1 x-3","rounded-r-0":"","shrink-0":""},fr=["title"],pr={absolute:"","top-0":"","w-full":"",flex:"","justify-end":""},vr=l("div",{"i-ri:close-line":"","text-white":""},null,-1),gr=[vr],_r=O({__name:"ModalMediaPreview",emits:["close"],setup(t,{emit:e}){const n=e,o=lo(document.body),s=It,r=K(()=>xe.value[It.value]),i=K(()=>s.value<xe.value.length-1),c=K(()=>s.value>0),d=co();At(d.arrowLeft,g),At(d.arrowRight,f);function f(){i.value&&s.value++}function g(){c.value&&s.value--}function m(b){b.composedPath().find(T=>["A","BUTTON","IMG","VIDEO","P"].includes(T.tagName?.toUpperCase()))||n("close")}return $e(()=>o.value=!0),vn(()=>o.value=!1),(b,k)=>{const C=sr;return u(),h("div",{relative:"","h-full":"","w-full":"",flex:"","pt-12":"","w-100vh":"",onClick:m},[a(i)?(u(),h("button",{key:0,"pointer-events-auto":"","btn-action-icon":"",bg:"black/20","aria-label":b.$t("action.previous"),"hover:bg":"black/40","dark:bg":"white/30","dark-hover:bg":"white/20",absolute:"",top:"1/2","right-1":"",z5:"",title:b.$t("action.next"),onClick:f},rr,8,ir)):D("",!0),a(c)?(u(),h("button",{key:1,"pointer-events-auto":"","btn-action-icon":"",bg:"black/20","aria-label":"action.next","hover:bg":"black/40","dark:bg":"white/30","dark:hover-bg":"white/20",absolute:"",top:"1/2","left-1":"",z5:"",title:b.$t("action.prev"),onClick:g},ur,8,lr)):D("",!0),l("div",dr,[p(C,{modelValue:a(s),"onUpdate:modelValue":k[0]||(k[0]=T=>U(s)?s.value=T:null),media:"mediaPreviewList"in b?b.mediaPreviewList:a(xe),onClose:k[1]||(k[1]=T=>n("close"))},null,8,["modelValue","media"]),l("div",hr,[("mediaPreviewList"in b?b.mediaPreviewList:a(xe)).length>1?(u(),h("div",mr,v(a(s)+1)+" / "+v(("mediaPreviewList"in b?b.mediaPreviewList:a(xe)).length),1)):D("",!0),a(r).description?(u(),h("p",{key:1,bg:"dark/30","dark:bg":"white/10",p:"y-1 x-3","rounded-ie-full":"","line-clamp-1":"","ws-pre-wrap":"","break-all":"",title:a(r).description,"w-full":""},v(a(r).description),9,fr)):D("",!0)])]),l("div",pr,[l("button",{"btn-action-icon":"",bg:"black/30","aria-label":"action.close","hover:bg":"black/40","dark:bg":"white/30","dark:hover-bg":"white/20","pointer-events-auto":"","shrink-0":"",onClick:k[2]||(k[2]=T=>n("close"))},gr)])])}}}),br={px3:"","py-4":"",flex:"~ col"},yr={"text-center":"",flex:"~ row gap-1 wrap"},kr=l("div",{h1px:"",bg:"gray/20",my2:""},null,-1),$r=O({__name:"StatusEditPreview",props:{edit:{}},setup(t){return(e,n)=>{const o=Ko,s=zo,r=Bo,i=Wo;return u(),h("div",br,[l("div",yr,[p(o,{account:e.edit.account},null,8,["account"]),l("span",null,v(e.$t("status_history.edited",[("useFormattedDateTime"in e?e.useFormattedDateTime:a(uo))(e.edit.createdAt).value])),1)]),kr,p(i,{enabled:e.edit.sensitive},{spoiler:$(()=>[P(v(e.edit.spoilerText),1)]),default:$(()=>[p(s,{status:e.edit},null,8,["status"]),e.edit.mediaAttachments.length?(u(),R(r,{key:0,status:e.edit},null,8,["status"])):D("",!0)]),_:1},8,["enabled"])])}}}),wr={class:"flex items-center px-1"},xr={key:0,class:"inline-block px-.5"},Sr={class:"p-1 grid place-items-center rounded-lg shadow-sm",text:"xs secondary",border:"1 base"},Cr={key:0,"i-material-symbols:keyboard-return-rounded":""},Dr={key:1,"i-material-symbols:keyboard-command-key":""},Er={key:2,"i-material-symbols:window-sharp":""},Tr={key:3,"i-material-symbols:keyboard-option-key-rounded":""},Mr={key:4,"i-ri:arrow-up-line":""},Pr={key:5,"i-ri:arrow-down-line":""},Ir={key:6,"i-ri:arrow-left-line":""},Ar={key:7,"i-ri:arrow-right-line":""},Nn=O({__name:"CommandKey",props:{name:{}},setup(t){const e=t,n=ot(),o=K(()=>e.name.toLowerCase().split("+"));return(s,r)=>(u(),h("div",wr,[(u(!0),h(V,null,Q(a(o),(i,c)=>(u(),h(V,{key:i},[c>0?(u(),h("div",xr," + ")):D("",!0),l("div",Sr,[i==="enter"?(u(),h("div",Cr)):i==="meta"&&a(n)?(u(),h("div",Dr)):i==="meta"&&!a(n)?(u(),h("div",Er)):i==="alt"&&a(n)?(u(),h("div",Tr)):i==="arrowup"?(u(),h("div",Mr)):i==="arrowdown"?(u(),h("div",Pr)):i==="arrowleft"?(u(),h("div",Ir)):i==="arrowright"?(u(),h("div",Ar)):i==="escape"?(u(),h(V,{key:8},[P(" ESC ")],64)):(u(),h("div",{key:9,class:H({"px-.5":i.length===1})},v(i[0].toUpperCase()+i.slice(1)),3))])],64))),128))]))}}),Vr=["data-index"],Ur={class:"flex-1 flex items-baseline gap-2"},Gr={key:0,class:"text-xs text-secondary"},Or={class:"text-xs text-secondary"},Hr={class:"text-xs text-secondary"},Lr=O({__name:"CommandItem",props:{cmd:{},index:{},active:{type:Boolean,default:!1}},emits:["activate"],setup(t,{emit:e}){const n=e;return(o,s)=>{const r=Nn;return u(),h("div",{class:H(["flex px-3 py-2 my-1 items-center rounded-lg hover:bg-active transition-all duration-65 ease-in-out cursor-pointer scroll-m-10",{"bg-active":o.active}]),"data-index":o.index,onClick:s[0]||(s[0]=i=>n("activate"))},[o.cmd.icon?(u(),h("div",{key:0,"me-2":"",class:H(o.cmd.icon)},null,2)):D("",!0),l("div",Ur,[l("div",{class:H({"font-medium":o.active})},v(o.cmd.name),3),o.cmd.description?(u(),h("div",Gr,v(o.cmd.description),1)):D("",!0)]),o.cmd.onComplete?(u(),h("div",{key:1,class:H(["flex items-center gap-1 transition-all duration-65 ease-in-out",o.active?"opacity-100":"opacity-0"])},[l("div",Or,v(o.$t("command.complete")),1),p(r,{name:"Tab"})],2)):D("",!0),o.cmd.onActivate?(u(),h("div",{key:2,class:H(["flex items-center gap-1 transition-all duration-65 ease-in-out",o.active?"opacity-100":"opacity-0"])},[l("div",Hr,v(o.$t("command.activate")),1),p(r,{name:"Enter"})],2)):D("",!0)],10,Vr)}}}),Nr={class:"flex flex-col w-50vw max-w-180 h-50vh max-h-120"},Rr={class:"flex mx-3 my-1 items-center"},Kr=l("div",{"mx-1":"","i-ri:search-line":""},null,-1),zr={class:"text-sm"},Br=l("span",{class:"text-secondary"},"/",-1),Wr=l("div",{class:"w-full border-b-1 border-base"},null,-1),Fr={class:"mt-2 px-2 py-1 text-sm text-secondary"},qr={key:2,p5:"","text-center":"","text-secondary":"",italic:""},Yr=l("div",{class:"w-full border-b-1 border-base"},null,-1),jr={class:"flex items-center px-3 py-1 text-xs"},Xr=l("div",{"i-ri:lightbulb-flash-line":""},null,-1),Zr=O({__name:"CommandPanel",emits:["close"],setup(t,{emit:e}){const n=e,o=ho(),s=tt(),r=E(),i=E(),c=E([]),d=mo;$e(()=>{r.value?.focus()});const f=K(()=>d.value.startsWith(">")),g=K(()=>f.value?"":d.value.trim()),{accounts:m,hashtags:b,loading:k}=Go(g);function C(_){return{index:0,type:"search",search:_,onActivate:()=>s.push(_.to)}}const T=K(()=>{if(g.value.length===0||k.value)return{length:0,items:[],grouped:{}};const _=b.value.slice(0,3).map(C),G=m.value.map(C),ne=new Map;ne.set("Hashtags",_),ne.set("Users",G);let ue=0;for(const fe of ne.values())for(const we of fe)we.index=ue++;return{grouped:ne,items:[..._,...G],length:_.length+G.length}}),I=K(()=>f.value?o.query(c.value.map(_=>_.id).join("."),d.value.slice(1).trim()):T.value),L=ot(),z=K(()=>L.value?"⌘":"Ctrl"),w=E(0);xt(I,(_,G)=>{(_.length!==G.length||!_.items.every((ne,ue)=>ne===G.items[ue]))&&(w.value=0)});function S(_){return i.value?.querySelector(`[data-index="${_}"]`)}function J(_){_.onActivate?(_.onActivate(),n("close")):_.onComplete&&(c.value.push(_.onComplete()),d.value="> ")}function y(_){_.onComplete?(c.value.push(_.onComplete()),d.value="> "):_.onActivate&&(_.onActivate(),n("close"))}function x(_){const G=S(_);G&&G.scrollIntoView({block:"nearest"})}function te(_){const G=I.value.length;w.value=(_+G)%G,x(w.value)}function me(_){switch(_.key){case"p":case"ArrowUp":{if(_.key==="p"&&!_.ctrlKey)break;_.preventDefault(),te(w.value-1);break}case"n":case"ArrowDown":{if(_.key==="n"&&!_.ctrlKey)break;_.preventDefault(),te(w.value+1);break}case"Home":{_.preventDefault(),w.value=0,x(w.value);break}case"End":{_.preventDefault(),te(I.value.length-1);break}case"Enter":{_.preventDefault();const G=I.value.items[w.value];G&&J(G);break}case"Tab":{_.preventDefault();const G=I.value.items[w.value];G&&y(G);break}case"Backspace":{d.value===">"&&c.value.length&&(_.preventDefault(),c.value.pop());break}}}return(_,G)=>{const ne=Nn,ue=Oo,fe=Ho,we=Lr;return u(),h("div",Nr,[l("label",Rr,[Kr,(u(!0),h(V,null,Q(a(c),ae=>(u(),h("div",{key:ae.id,class:"flex items-center mx-1 gap-2"},[l("div",zr,v(ae.display),1),Br]))),128)),j(l("input",{ref_key:"inputEl",ref:r,"onUpdate:modelValue":G[0]||(G[0]=ae=>U(d)?d.value=ae:null),class:"focus:outline-none flex-1 p-2 rounded bg-base",placeholder:"Search",onKeydown:me},null,544),[[ke,a(d)]]),p(ne,{name:"Escape"})]),Wr,l("div",{ref_key:"resultEl",ref:i,class:"flex-1 mx-1 overflow-y-auto"},[a(k)?(u(),h(V,{key:0},[p(ue),p(ue),p(ue)],64)):a(I).length?(u(!0),h(V,{key:1},Q(a(I).grouped,([ae,at])=>(u(),h(V,{key:ae},[l("div",Fr,v(ae),1),(u(!0),h(V,null,Q(at,re=>(u(),h(V,{key:re.index},[re.type==="search"?(u(),R(fe,{key:0,active:a(w)===re.index,result:re.search},null,8,["active","result"])):(u(),R(we,{key:1,index:re.index,cmd:re.cmd,active:a(w)===re.index,onActivate:M=>J(re)},null,8,["index","cmd","active","onActivate"]))],64))),128))],64))),128)):(u(),h("div",qr,v(a(d).trim().length?_.$t("common.not_found"):_.$t("search.search_desc")),1))],512),Yr,l("div",jr,[Xr,P(" Tip: Use "),p(ne,{name:`${a(z)}+K`},null,8,["name"]),P(" to search, "),p(ne,{name:`${a(z)}+/`},null,8,["name"]),P(" to activate command mode. ")])])}}}),Qr={flex:"","flex-grow-0":"","gap-2":""},Jr={flex:"","items-center":"","gap-2":""},el={flex:"","items-center":"","gap-2":""},tl={flex:"","items-center":"","gap-2":""},nl=O({__name:"DurationPicker",props:{modelValue:{},modelModifiers:{},isValid:{type:Boolean},isValidModifiers:{}},emits:["update:modelValue","update:isValid"],setup(t){const e=Xe(t,"modelValue"),n=Xe(t,"isValid"),o=E(0),s=E(1),r=E(0);return fo(()=>{if(o.value===""||s.value===""||r.value===""){n.value=!1;return}const i=o.value*24*60*60+s.value*60*60+r.value*60;if(i<=0){n.value=!1;return}n.value=!0,e.value=i}),(i,c)=>(u(),h("div",Qr,[l("label",Jr,[j(l("input",{"onUpdate:modelValue":c[0]||(c[0]=d=>U(o)?o.value=d:null),type:"number",min:"0",max:"1999","input-base":"",class:H(n.value?null:"input-error")},null,2),[[ke,a(o)]]),P(" "+v(i.$t("confirm.mute_account.days",a(o)===""?0:a(o))),1)]),l("label",el,[j(l("input",{"onUpdate:modelValue":c[1]||(c[1]=d=>U(s)?s.value=d:null),type:"number",min:"0",max:"24","input-base":"",class:H(n.value?null:"input-error")},null,2),[[ke,a(s)]]),P(" "+v(i.$t("confirm.mute_account.hours",a(s)===""?0:a(s))),1)]),l("label",tl,[j(l("input",{"onUpdate:modelValue":c[2]||(c[2]=d=>U(r)?r.value=d:null),type:"number",min:"0",max:"59",step:"5","input-base":"",class:H(n.value?null:"input-error")},null,2),[[ke,a(r)]]),P(" "+v(i.$t("confirm.mute_account.minute",a(r)===""?0:a(r))),1)])]))}}),ol={flex:"~ col","gap-6":""},sl={"font-bold":"","text-lg":""},il={key:0},al={key:1,"flex-col":"",flex:"","gap-4":""},rl={flex:"","justify-end":"","gap-2":""},ll=["disabled"],cl=O({__name:"ModalConfirm",props:{title:{},description:{},confirm:{},cancel:{},extraOptionType:{}},emits:["choice"],setup(t,{emit:e}){const n=t,o=e,s=E(!1),r=E(!0),i=E(60*60),c=E(!0),d=K(()=>n.extraOptionType==="mute");function f(g){const m={choice:g,...d.value&&{extraOptions:{mute:{duration:s.value?i.value:0,notifications:c.value}}}};o("choice",m)}return(g,m)=>{const b=qo;return u(),h("div",ol,[l("div",sl,v(g.title),1),g.description?(u(),h("div",il,v(g.description),1)):D("",!0),a(d)?(u(),h("div",al,[p(b,{modelValue:a(s),"onUpdate:modelValue":m[0]||(m[0]=k=>U(s)?s.value=k:null),label:g.$t("confirm.mute_account.specify_duration"),"prepend-checkbox":"","checked-icon-color":"text-primary"},null,8,["modelValue","label"]),a(s)?(u(),R(nl,{key:0,modelValue:a(i),"onUpdate:modelValue":m[1]||(m[1]=k=>U(i)?i.value=k:null),"is-valid":a(r),"onUpdate:isValid":m[2]||(m[2]=k=>U(r)?r.value=k:null)},null,8,["modelValue","is-valid"])):D("",!0),p(b,{modelValue:a(c),"onUpdate:modelValue":m[3]||(m[3]=k=>U(c)?c.value=k:null),label:g.$t("confirm.mute_account.notifications"),"prepend-checkbox":"","checked-icon-color":"text-primary"},null,8,["modelValue","label"])])):D("",!0),l("div",rl,[l("button",{"btn-text":"",onClick:m[4]||(m[4]=k=>f("cancel"))},v(g.cancel||g.$t("confirm.common.cancel")),1),l("button",{"btn-solid":"",disabled:!a(r),onClick:m[5]||(m[5]=k=>f("confirm"))},v(g.confirm||g.$t("confirm.common.confirm")),9,ll)])])}}}),ul={flex:"~ col","gap-6":""},dl={"font-bold":"","text-lg":"","text-center":""},hl={flex:"~ col","gap-1":"","text-sm":"","pt-1":"","ps-2":"","pe-1":"","pb-2":"","text-red-600":"","dark:text-red-400":"",border:"~ base rounded red-600 dark:red-400"},ml={"ps-2":"","sm:ps-1":""},fl={flex:"","justify-end":"","gap-2":""},pl=O({__name:"ModalError",props:{title:{},messages:{},close:{}},setup(t){return(e,n)=>(u(),h("div",ul,[l("div",dl,v(e.title),1),l("div",hl,[l("ol",ml,[(u(!0),h(V,null,Q(e.messages,(o,s)=>(u(),h("li",{key:s,flex:"~ col sm:row","gap-y-1":"","sm:gap-x-2":""},v(o),1))),128))])]),l("div",fl,[l("button",{"btn-text":"",onClick:n[0]||(n[0]=o=>("closeErrorDialog"in e?e.closeErrorDialog:a(po))())},v(e.close),1)])]))}}),vl={flex:"","w-full":"","items-center":"","lg:text-lg":"","of-x-auto":"","scrollbar-hide":""},gl=["onClick"],_l=O({__name:"StatusFavouritedBoostedBy",setup(t){const e=E("favourited-by"),{client:n}=gn();function o(){return n.value.v1.statuses.$select(vo.value)[e.value==="favourited-by"?"favouritedBy":"rebloggedBy"].list()}const s=K(()=>o());function r(){e.value="favourited-by"}function i(){e.value="boosted-by"}const{t:c}=_n(),d=[{name:"favourited-by",display:c("status.favourited_by"),onClick:r},{name:"boosted-by",display:c("status.boosted_by"),onClick:i}];return(f,g)=>{const m=Yo;return u(),h(V,null,[l("div",vl,[(u(),h(V,null,Q(d,b=>l("div",{key:b.name,relative:"",flex:"","flex-auto":"","cursor-pointer":"","sm:px6":"",px2:"",rounded:"","transition-all":"",tabindex:"0","hover:bg-active":"","transition-100":"",onClick:b.onClick},[l("span",{"ws-nowrap":"",mxa:"","sm:px2":"","sm:py3":"","xl:pb4":"","xl:pt5":"",py2:"","text-center":"","border-b-3":"",class:H(b.name===a(e)?"border-primary op100 text-base":"border-transparent text-secondary-light hover:text-secondary op50")},v(b.display),3)],8,gl)),64))]),(u(),R(m,{key:`paginator-${a(e)}`,paginator:a(s)},null,8,["paginator"]))],64)}}}),bl={"px-3":"","sm:px-5":"","py-2":"","sm:py-4":"","max-w-220":"",relative:"","max-h-screen":""},yl=["aria-label"],kl=l("div",{"i-ri:close-fill":""},null,-1),$l=[kl],wl={"text-xl":"","font-700":"",mb3:""},xl={mb2:"",grid:"","grid-cols-1":"","md:grid-cols-3":"","gap-y-":"","md:gap-x-6":"","lg:gap-x-8":""},Sl={"font-700":"","my-2":"","text-lg":""},Cl={"mr-2":"","break-words":"","overflow-hidden":"","leading-4":"","h-full":"","inline-block":"","align-middle":""},Dl={key:0,mx1:"","text-sm":"",op80:""},El={class:"px2 md:px1.5 lg:px2 lg:px2 py0 lg:py-0.5",rounded:"","bg-code":"",border:"px $c-border-code","shadow-sm":"",my1:"","font-mono":"","font-600":""},Tl=O({__name:"MagickeysKeyboardShortcuts",emits:["close"],setup(t,{emit:e}){const n=e,{t:o}=_n(),s=ot(),r=K(()=>s.value?"⌘":"Ctrl"),i=K(()=>[{name:o("magic_keys.groups.navigation.title"),items:[{description:o("magic_keys.groups.navigation.shortcut_help"),shortcut:{keys:["?"],isSequence:!1}},{description:o("magic_keys.groups.navigation.go_to_search"),shortcut:{keys:["/"],isSequence:!1}},{description:o("magic_keys.groups.navigation.go_to_home"),shortcut:{keys:["g","h"],isSequence:!0}},{description:o("magic_keys.groups.navigation.go_to_notifications"),shortcut:{keys:["g","n"],isSequence:!0}},{description:o("magic_keys.groups.navigation.go_to_conversations"),shortcut:{keys:["g","c"],isSequence:!0}},{description:o("magic_keys.groups.navigation.go_to_favourites"),shortcut:{keys:["g","f"],isSequence:!0}},{description:o("magic_keys.groups.navigation.go_to_bookmarks"),shortcut:{keys:["g","b"],isSequence:!0}},{description:o("magic_keys.groups.navigation.go_to_explore"),shortcut:{keys:["g","e"],isSequence:!0}},{description:o("magic_keys.groups.navigation.go_to_local"),shortcut:{keys:["g","l"],isSequence:!0}},{description:o("magic_keys.groups.navigation.go_to_federated"),shortcut:{keys:["g","t"],isSequence:!0}},{description:o("magic_keys.groups.navigation.go_to_lists"),shortcut:{keys:["g","i"],isSequence:!0}},{description:o("magic_keys.groups.navigation.go_to_settings"),shortcut:{keys:["g","s"],isSequence:!0}},{description:o("magic_keys.groups.navigation.go_to_profile"),shortcut:{keys:["g","p"],isSequence:!0}}]},{name:o("magic_keys.groups.actions.title"),items:[{description:o("magic_keys.groups.actions.search"),shortcut:{keys:[r.value,"k"],isSequence:!1}},{description:o("magic_keys.groups.actions.command_mode"),shortcut:{keys:[r.value,"/"],isSequence:!1}},{description:o("magic_keys.groups.actions.compose"),shortcut:{keys:["c"],isSequence:!1}},{description:o("magic_keys.groups.actions.show_new_items"),shortcut:{keys:["."],isSequence:!1}},{description:o("magic_keys.groups.actions.favourite"),shortcut:{keys:["f"],isSequence:!1}},{description:o("magic_keys.groups.actions.boost"),shortcut:{keys:["b"],isSequence:!1}}]},{name:o("magic_keys.groups.media.title"),items:[]}]);return(c,d)=>(u(),h("div",bl,[l("button",{"btn-action-icon":"",absolute:"","top-1":"","sm:top-2":"","right-1":"","sm:right-2":"",m1:"","aria-label":c.$t("modals.aria_label_close"),onClick:d[0]||(d[0]=f=>n("close"))},$l,8,yl),l("h2",wl,v(c.$t("magic_keys.dialog_header")),1),l("div",xl,[(u(!0),h(V,null,Q(a(i),f=>(u(),h("div",{key:f.name},[l("h3",Sl,v(f.name),1),(u(!0),h(V,null,Q(f.items,g=>(u(),h("div",{key:g.description,flex:"","my-1":"","lg:my-2":"","justify-between":"","place-items-center":"","max-w-full":"","text-base":""},[l("div",Cl,v(g.description),1),l("div",null,[(u(!0),h(V,null,Q(g.shortcut.keys,(m,b)=>(u(),h(V,{key:b},[b!==0?(u(),h("span",Dl,v(g.shortcut.isSequence?c.$t("magic_keys.sequence_then"):"+"),1)):D("",!0),l("code",El,v(m),1)],64))),128))])]))),128))]))),128))])]))}}),Ml={"my-8":"","px-3":"","sm:px-8":"",flex:"~ col gap-4",relative:""},Pl={mxa:"","text-xl":""},Il={"text-primary":""},Al=l("div",{"i-ri:close-line":""},null,-1),Vl=[Al],Ul={mxa:"","text-4xl":"",mb4:""},Gl={"text-xl":""},Ol={"pl-2":"",for:"dontlike","font-bold":""},Hl={"pl-6":""},Ll={"pl-2":"",for:"spam","font-bold":""},Nl={"pl-6":""},Rl={key:0},Kl={"pl-2":"",for:"violation","font-bold":""},zl={key:0,"pl-6":"","pt-2":"","text-primary":"","font-bold":""},Bl={"pl-6":""},Wl=["id","value","disabled"],Fl=["for"],ql={"pl-2":"",for:"other","font-bold":""},Yl={"pl-6":""},jl={key:1},Xl={"mt-8":"","mb-4":"","font-bold":""},Zl=["placeholder"],Ql={key:0},Jl={"mt-8":"","mb-2":"","font-bold":""},ec={"pb-1":""},tc={"pl-2":"",for:"forward"},nc=["disabled"],oc={mxa:"","text-4xl":"",mb4:""},sc={"text-primary":"","font-bold":""},ic=["id","value"],ac=["for"],rc={mxa:"","text-4xl":"",mb4:""},lc={"text-xl":""},cc={key:0},uc=l("br",null,null,-1),dc={key:1},hc=l("br",null,null,-1),mc={key:2},fc=l("br",null,null,-1),pc=O({__name:"ReportModal",props:{account:{},status:{}},emits:["close"],async setup(t,{emit:e}){let n,o;const s=e,{client:r}=gn(),i=E("selectCategory"),c=E(([n,o]=go(()=>r.value.v2.instance.fetch()),n=await n,o(),n).rules||[]),d=E(""),f=E([]),g=E(t.status?[t.status]:[]),m=E(t.status?[t.status.id]:[]),b=E(""),k=E(!1),C=E();I();function T(){i.value=d.value==="dontlike"?"furtherActions":"selectStatuses",J()}async function I(){if(t.status){const y=await r.value.v1.accounts.$select(t.account.id).statuses.list({maxId:t.status.id,limit:5}),x=await r.value.v1.accounts.$select(t.account.id).statuses.list({minId:t.status.id,limit:5});g.value=g.value.concat(y),g.value=g.value.concat(x)}else{const y=await r.value.v1.accounts.$select(t.account.id).statuses.list({limit:10});g.value=y}g.value.sort((y,x)=>new Date(x.createdAt).getTime()-new Date(y.createdAt).getTime())}async function L(){await r.value.v1.reports.create({accountId:t.account.id,statusIds:m.value,comment:b.value,forward:k.value,category:d.value==="spam"?"spam":d.value==="violation"?"violation":"other",ruleIds:d.value==="violation"?f.value:null}),i.value="furtherActions",J()}function z(){s("close"),_o(_e(t.account).value,t.account)}function w(){s("close"),bo(_e(t.account).value,t.account)}function S(){s("close"),yo(_e(t.account).value,t.account)}function J(){C.value?.scrollIntoView()}return(y,x)=>{const te=Ae("i18n-t"),me=Fo;return u(),h("div",Ml,[l("h2",Pl,[p(te,{keypath:a(d)==="dontlike"?"report.limiting":"report.reporting"},{default:$(()=>[l("b",Il,"@"+v(y.account.acct),1)]),_:1},8,["keypath"])]),l("button",{ref_key:"dismissButton",ref:C,"btn-action-icon":"",absolute:"","top--8":"","right-0":"",m1:"","aria-label":"Close",onClick:x[0]||(x[0]=_=>s("close"))},Vl,512),a(i)==="selectCategory"?(u(),h(V,{key:0},[l("h1",Ul,v(y.status?y.$t("report.whats_wrong_post"):y.$t("report.whats_wrong_account")),1),l("p",Gl,v(y.$t("report.select_one")),1),l("div",null,[j(l("input",{id:"dontlike","onUpdate:modelValue":x[1]||(x[1]=_=>U(d)?d.value=_:null),type:"radio",value:"dontlike"},null,512),[[Re,a(d)]]),l("label",Ol,v(y.$t("report.dontlike")),1),l("p",Hl,v(y.$t("report.dontlike_desc")),1)]),l("div",null,[j(l("input",{id:"spam","onUpdate:modelValue":x[2]||(x[2]=_=>U(d)?d.value=_:null),type:"radio",value:"spam"},null,512),[[Re,a(d)]]),l("label",Ll,v(y.$t("report.spam")),1),l("p",Nl,v(y.$t("report.spam_desc")),1)]),a(c).length>0?(u(),h("div",Rl,[j(l("input",{id:"violation","onUpdate:modelValue":x[3]||(x[3]=_=>U(d)?d.value=_:null),type:"radio",value:"violation"},null,512),[[Re,a(d)]]),l("label",Kl,v(y.$t("report.violation")),1),a(d)==="violation"?(u(),h("p",zl,v(y.$t("report.select_many")),1)):D("",!0),l("ul",Bl,[(u(!0),h(V,null,Q(a(c),_=>(u(),h("li",{key:_.id,"pt-2":""},[j(l("input",{id:_.id,"onUpdate:modelValue":x[4]||(x[4]=G=>U(f)?f.value=G:null),type:"checkbox",value:_.id,disabled:a(d)!=="violation"},null,8,Wl),[[rt,a(f)]]),l("label",{"pl-2":"",for:_.id},v(_.text),9,Fl)]))),128))])])):D("",!0),l("div",null,[j(l("input",{id:"other","onUpdate:modelValue":x[5]||(x[5]=_=>U(d)?d.value=_:null),type:"radio",value:"other"},null,512),[[Re,a(d)]]),l("label",ql,v(y.$t("report.other")),1),l("p",Yl,v(y.$t("report.other_desc")),1)]),a(d)&&a(d)!=="dontlike"?(u(),h("div",jl,[l("h3",Xl,v(y.$t("report.anything_else")),1),j(l("textarea",{"onUpdate:modelValue":x[6]||(x[6]=_=>U(b)?b.value=_:null),"w-full":"","h-20":"","p-3":"",border:"",placeholder:y.$t("report.additional_comments")},null,8,Zl),[[ke,a(b)]]),("getServerName"in y?y.getServerName:a(lt))(y.account)&&("getServerName"in y?y.getServerName:a(lt))(y.account)!==("currentServer"in y?y.currentServer:a(de))?(u(),h("div",Ql,[l("h3",Jl,v(y.$t("report.another_server")),1),l("p",ec,v(y.$t("report.forward_question")),1),j(l("input",{id:"forward","onUpdate:modelValue":x[7]||(x[7]=_=>U(k)?k.value=_:null),type:"checkbox",value:"rule.id"},null,512),[[rt,a(k)]]),l("label",tc,[l("b",null,v(y.$t("report.forward",[("getServerName"in y?y.getServerName:a(lt))(y.account)])),1)])])):D("",!0)])):D("",!0),l("button",{"btn-solid":"",mxa:"","mt-10":"",disabled:!a(d)||a(d)==="violation"&&a(f).length<1,onClick:x[8]||(x[8]=_=>T())},v(y.$t("action.next")),9,nc)],64)):a(i)==="selectStatuses"?(u(),h(V,{key:1},[l("h1",oc,v(y.status?y.$t("report.select_posts_other"):y.$t("report.select_posts")),1),l("p",sc,v(y.$t("report.select_many")),1),l("table",null,[(u(!0),h(V,null,Q(a(g),_=>(u(),h("tr",{key:_.id},[l("td",null,[j(l("input",{id:_.id,"onUpdate:modelValue":x[9]||(x[9]=G=>U(m)?m.value=G:null),type:"checkbox",value:_.id},null,8,ic),[[rt,a(m)]])]),l("td",null,[l("label",{for:_.id},[p(me,{status:_,actions:!1,"pointer-events-none":""},null,8,["status"])],8,ac)])]))),128))]),l("button",{"btn-solid":"",mxa:"","mt-5":"",onClick:x[10]||(x[10]=_=>L())},v(y.$t("report.submit")),1)],64)):a(i)==="furtherActions"?(u(),h(V,{key:2},[l("h1",rc,v(a(d)==="dontlike"?y.$t("report.further_actions.limit.title"):y.$t("report.further_actions.report.title")),1),l("p",lc,v(a(d)==="dontlike"?y.$t("report.further_actions.limit.description"):y.$t("report.further_actions.report.description")),1),a(_e)(y.account).value?.following?(u(),h("div",cc,[l("button",{"btn-outline":"",mxa:"","mt-4":"","mb-2":"",onClick:x[11]||(x[11]=_=>z())},[p(te,{keypath:"menu.unfollow_account"},{default:$(()=>[l("b",null,"@"+v(y.account.acct),1)]),_:1})]),uc,P(" "+v(y.$t("report.unfollow_desc")),1)])):D("",!0),a(_e)(y.account).value?.muting?D("",!0):(u(),h("div",dc,[l("button",{"btn-outline":"",mxa:"","mt-4":"","mb-2":"",onClick:x[12]||(x[12]=_=>w())},[p(te,{keypath:"menu.mute_account"},{default:$(()=>[l("b",null,"@"+v(y.account.acct),1)]),_:1})]),hc,P(" "+v(y.$t("report.mute_desc")),1)])),a(_e)(y.account).value?.blocking?D("",!0):(u(),h("div",mc,[l("button",{"btn-outline":"",mxa:"","mt-4":"","mb-2":"",onClick:x[13]||(x[13]=_=>S())},[p(te,{keypath:"menu.block_account"},{default:$(()=>[l("b",null,"@"+v(y.account.acct),1)]),_:1})]),fc,P(" "+v(y.$t("report.block_desc")),1)])),l("button",{"btn-solid":"",mxa:"","mt-10":"",onClick:x[14]||(x[14]=_=>s("close"))},v(y.$t("action.done")),1)],64)):D("",!0)])}}}),vc=O({__name:"ModalContainer",setup(t){const e=ot();Te("keydown",i=>{(i.key==="k"||i.key==="л")&&(e.value?i.metaKey:i.ctrlKey)&&(i.preventDefault(),Vt(i.shiftKey)),(i.key==="/"||i.key===",")&&(e.value?i.metaKey:i.ctrlKey)&&(i.preventDefault(),Vt(!0))});function n(i){zt.value=i,Ke.value=!1}function o(){zt.value=null}function s(i){Do.value=i,ze.value=!1}function r(){Be.value=!1}return(i,c)=>{const d=Li,f=No,g=Xi,m=Ro,b=_r,k=$r,C=Zr,T=cl,I=pl,L=_l,z=Tl,w=pc;return("isHydrated"in i?i.isHydrated:a(Y))?(u(),h(V,{key:0},[p(f,{modelValue:a(ct),"onUpdate:modelValue":c[0]||(c[0]=S=>U(ct)?ct.value=S:null),"py-4":"","px-8":"","max-w-125":""},{default:$(()=>[p(d)]),_:1},8,["modelValue"]),p(f,{modelValue:a(ut),"onUpdate:modelValue":c[2]||(c[2]=S=>U(ut)?ut.value=S:null),"keep-alive":"","max-w-125":""},{default:$(()=>[p(g,{onClose:c[1]||(c[1]=S=>("closePreviewHelp"in i?i.closePreviewHelp:a(ko))())})]),_:1},8,["modelValue"]),p(f,{modelValue:a(Ke),"onUpdate:modelValue":c[3]||(c[3]=S=>U(Ke)?Ke.value=S:null),"max-w-180":"",flex:"",onClose:o},{default:$(()=>[("dialogDraftKey"in i?i.dialogDraftKey:a(Ut))?(u(),R(m,{key:0,"draft-key":"dialogDraftKey"in i?i.dialogDraftKey:a(Ut),expanded:"","flex-1":"","w-0":"",onPublished:n},null,8,["draft-key"])):D("",!0)]),_:1},8,["modelValue"]),p(f,{"model-value":a(Gt),"w-full":"","max-w-full":"","h-full":"","max-h-full":"","bg-transparent":"","border-0":"","shadow-none":"","onUpdate:modelValue":"closeMediaPreview"in i?i.closeMediaPreview:a(Ot)},{default:$(()=>[a(Gt)?(u(),R(b,{key:0,onClose:c[4]||(c[4]=S=>("closeMediaPreview"in i?i.closeMediaPreview:a(Ot))())})):D("",!0)]),_:1},8,["model-value","onUpdate:modelValue"]),p(f,{modelValue:a(dt),"onUpdate:modelValue":c[5]||(c[5]=S=>U(dt)?dt.value=S:null),"max-w-125":""},{default:$(()=>[("statusEdit"in i?i.statusEdit:a(Ht))?(u(),R(k,{key:0,edit:"statusEdit"in i?i.statusEdit:a(Ht)},null,8,["edit"])):D("",!0)]),_:1},8,["modelValue"]),p(f,{modelValue:a(ht),"onUpdate:modelValue":c[7]||(c[7]=S=>U(ht)?ht.value=S:null),"max-w-fit":"",flex:""},{default:$(()=>[p(C,{onClose:c[6]||(c[6]=S=>("closeCommandPanel"in i?i.closeCommandPanel:a($o))())})]),_:1},8,["modelValue"]),p(f,{modelValue:a(ze),"onUpdate:modelValue":c[8]||(c[8]=S=>U(ze)?ze.value=S:null),"py-4":"","px-8":"","max-w-125":""},{default:$(()=>[("confirmDialogLabel"in i?i.confirmDialogLabel:a(Lt))?(u(),R(T,Nt({key:0},"confirmDialogLabel"in i?i.confirmDialogLabel:a(Lt),{onChoice:s}),null,16)):D("",!0)]),_:1},8,["modelValue"]),p(f,{modelValue:a(mt),"onUpdate:modelValue":c[9]||(c[9]=S=>U(mt)?mt.value=S:null),"py-4":"","px-8":"","max-w-125":""},{default:$(()=>[("errorDialogData"in i?i.errorDialogData:a(Rt))?(u(),R(I,wo(Nt({key:0},"errorDialogData"in i?i.errorDialogData:a(Rt))),null,16)):D("",!0)]),_:1},8,["modelValue"]),p(f,{modelValue:a(Be),"onUpdate:modelValue":c[10]||(c[10]=S=>U(Be)?Be.value=S:null),"max-w-180":"",onClose:r},{default:$(()=>[p(L)]),_:1},8,["modelValue"]),p(f,{modelValue:a(ft),"onUpdate:modelValue":c[12]||(c[12]=S=>U(ft)?ft.value=S:null),"max-w-full":"","sm:max-w-140":"","md:max-w-170":"","lg:max-w-220":"","md:min-w-160":""},{default:$(()=>[p(z,{onClose:c[11]||(c[11]=S=>("closeKeyboardShortcuts"in i?i.closeKeyboardShortcuts:a(xo))())})]),_:1},8,["modelValue"]),p(f,{modelValue:a(pt),"onUpdate:modelValue":c[14]||(c[14]=S=>U(pt)?pt.value=S:null),"keep-alive":"","max-w-175":""},{default:$(()=>[("reportAccount"in i?i.reportAccount:a(Kt))?(u(),R(w,{key:0,account:"reportAccount"in i?i.reportAccount:a(Kt),status:"reportStatus"in i?i.reportStatus:a(So),onClose:c[13]||(c[13]=S=>("closeReportDialog"in i?i.closeReportDialog:a(Co))())},null,8,["account","status"])):D("",!0)]),_:1},8,["modelValue"])],64)):D("",!0)}}}),gc=bn(mi),_c=bn(Po),bc=Mo(()=>Io(()=>import("./DefmstYv.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(t=>t.default||t)),yc=["data-mode"],kc={flex:"","w-full":"",mxa:"","lg:max-w-80rem":"",class:"native:grid native:sm:grid-cols-[auto_1fr] native:lg:grid-cols-[auto_minmax(600px,2fr)_1fr]"},$c={class:"native:w-auto w-1/8 md:w-1/6 lg:w-1/5 xl:w-1/4 zen-hide",hidden:"","sm:flex":"","justify-end":"","xl:me-4":"","native:me-0":"",relative:""},wc={sticky:"","top-0":"","w-20":"","xl:w-100":"","h-100dvh":"",flex:"~ col","lt-xl-items-center":""},xc={flex:"~ col","overflow-y-auto":"","justify-between":"","h-full":"","max-w-full":"","overflow-x-hidden":""},Sc=l("div",{"flex-auto":""},null,-1),Cc={key:0,flex:"","flex-col":"",sticky:"","bottom-0":"","bg-base":""},Dc={hidden:"","xl:block":""},Ec={key:0,p6:"",pb8:"","w-full":""},Tc={hidden:"","xl-block":""},Mc={key:1,flex:"~","items-center":"","justify-between":""},Pc={"min-h":"[calc(100vh-3.5rem)]","sm:min-h-screen":""},Ic={sticky:"","left-0":"","right-0":"","bottom-0":"","z-10":"","bg-base":"",pb:"[env(safe-area-inset-bottom)]",transition:"padding 20"},Ac={key:0,class:"hidden lg:w-1/5 xl:w-1/4 sm:none xl:block native:w-full zen-hide"},Vc={sticky:"","top-0":"","h-100dvh":"",flex:"~ col","gap-2":"",py3:"","ms-2":""},Uc=l("div",{"flex-auto":""},null,-1),au=O({__name:"default",setup(t){const e=Eo(),n=wt(),o=K(()=>e.meta.wideLayout??!1),s=To(_t("experimentalUserPicker"),()=>un().value.length>1),r=_t("grayscaleMode");return(i,c)=>{const d=rs,f=kn,g=Es,m=Hs,b=Ao,k=ge,C=$n,T=Rs,I=ai,L=Lo,z=gc,w=_c,S=bc,J=$i,y=vc;return u(),h("div",{"h-full":"","data-mode":("isHydrated"in i?i.isHydrated:a(Y))&&a(r)?"grayscale":"","data-tauri-drag-region":""},[l("main",kc,[l("aside",$c,[l("div",wc,[ye(i.$slots,"left",{},()=>[l("div",xc,[p(d),p(f,{command:""}),Sc,("isHydrated"in i?i.isHydrated:a(Y))?(u(),h("div",Cc,[l("div",Dc,[("currentUser"in i?i.currentUser:a(ie))?D("",!0):(u(),R(g,{key:0}))]),("currentUser"in i?i.currentUser:a(ie))?(u(),h("div",Ec,[l("div",Tc,[a(s)?(u(),R(m,{key:0})):(u(),h("div",Mc,[p(k,{hidden:"","xl:block":"","rounded-3":"","text-primary":"","text-start":"","w-full":"","hover:bg-active":"","cursor-pointer":"","transition-100":"",to:("getAccountRoute"in i?i.getAccountRoute:a(dn))(("currentUser"in i?i.currentUser:a(ie)).account)},{default:$(()=>[p(b,{account:("currentUser"in i?i.currentUser:a(ie)).account,"md:break-words":"",square:""},null,8,["account"])]),_:1},8,["to"]),p(C)]))]),p(C,{"xl:hidden":""})])):D("",!0)])):D("",!0)])])])]),l("div",{"w-full":"","min-h-screen":"",class:H(("isHydrated"in i?i.isHydrated:a(Y))&&a(o)?"xl:w-full sm:w-600px":"sm:w-600px md:shrink-0"),"border-base":""},[l("div",Pc,[ye(i.$slots,"default")]),l("div",Ic,[("isHydrated"in i?i.isHydrated:a(Y))?(u(),R(T,{key:0})):D("",!0),("isHydrated"in i?i.isHydrated:a(Y))?(u(),R(I,{key:1,"sm:hidden":""})):D("",!0)])],2),("isHydrated"in i?i.isHydrated:a(Y))&&!a(o)?(u(),h("aside",Ac,[l("div",Vc,[ye(i.$slots,"right",{},()=>[p(L,{"mt-4":"","mx-1":"",hidden:"","xl:block":""}),Uc,p(z),p(w),a(n).env==="preview"?(u(),R(S,{key:0})):D("",!0),p(J)])])])):D("",!0)]),p(y)],8,yc)}}});export{au as default};
