import{cb as Ne,v as K,D as te,cc as Te,d as Fe,az as oe,aA as Ee,bY as ke,s as De,aj as Se,a as _,cd as Pe,o as ue,m as Re,f as Ie,w as Ce,h as z,a4 as Ae,c as Oe,bc as xe,j as B,$ as Be,al as Le,aD as Ke,ao as Me,bm as je,k as Ve,ce as ze,bw as Ue,H as Ge,an as qe}from"./CMcu4vOi.js";function $e(o){var e;const t=Ne(o);return(e=t?.$el)!=null?e:t}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var be=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],G=be.join(","),pe=typeof Element>"u",R=pe?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,q=!pe&&Element.prototype.getRootNode?function(o){var e;return o==null||(e=o.getRootNode)===null||e===void 0?void 0:e.call(o)}:function(o){return o?.ownerDocument},$=function o(e,t){var a;t===void 0&&(t=!0);var u=e==null||(a=e.getAttribute)===null||a===void 0?void 0:a.call(e,"inert"),s=u===""||u==="true",r=s||t&&e&&o(e.parentNode);return r},Ye=function(e){var t,a=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return a===""||a==="true"},he=function(e,t,a){if($(e))return[];var u=Array.prototype.slice.apply(e.querySelectorAll(G));return t&&R.call(e,G)&&u.unshift(e),u=u.filter(a),u},ge=function o(e,t,a){for(var u=[],s=Array.from(e);s.length;){var r=s.shift();if(!$(r,!1))if(r.tagName==="SLOT"){var c=r.assignedElements(),d=c.length?c:r.children,b=o(d,!0,a);a.flatten?u.push.apply(u,b):u.push({scopeParent:r,candidates:b})}else{var w=R.call(r,G);w&&a.filter(r)&&(t||!e.includes(r))&&u.push(r);var h=r.shadowRoot||typeof a.getShadowRoot=="function"&&a.getShadowRoot(r),F=!$(h,!1)&&(!a.shadowRootFilter||a.shadowRootFilter(r));if(h&&F){var I=o(h===!0?r.children:h.children,!0,a);a.flatten?u.push.apply(u,I):u.push({scopeParent:r,candidates:I})}else s.unshift.apply(s,r.children)}}return u},me=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},P=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Ye(e))&&!me(e)?0:e.tabIndex},We=function(e,t){var a=P(e);return a<0&&t&&!me(e)?0:a},Ze=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},ye=function(e){return e.tagName==="INPUT"},Xe=function(e){return ye(e)&&e.type==="hidden"},He=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(a){return a.tagName==="SUMMARY"});return t},Je=function(e,t){for(var a=0;a<e.length;a++)if(e[a].checked&&e[a].form===t)return e[a]},Qe=function(e){if(!e.name)return!0;var t=e.form||q(e),a=function(c){return t.querySelectorAll('input[type="radio"][name="'+c+'"]')},u;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")u=a(window.CSS.escape(e.name));else try{u=a(e.name)}catch(r){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",r.message),!1}var s=Je(u,e.form);return!s||s===e},_e=function(e){return ye(e)&&e.type==="radio"},et=function(e){return _e(e)&&!Qe(e)},tt=function(e){var t,a=e&&q(e),u=(t=a)===null||t===void 0?void 0:t.host,s=!1;if(a&&a!==e){var r,c,d;for(s=!!((r=u)!==null&&r!==void 0&&(c=r.ownerDocument)!==null&&c!==void 0&&c.contains(u)||e!=null&&(d=e.ownerDocument)!==null&&d!==void 0&&d.contains(e));!s&&u;){var b,w,h;a=q(u),u=(b=a)===null||b===void 0?void 0:b.host,s=!!((w=u)!==null&&w!==void 0&&(h=w.ownerDocument)!==null&&h!==void 0&&h.contains(u))}}return s},se=function(e){var t=e.getBoundingClientRect(),a=t.width,u=t.height;return a===0&&u===0},at=function(e,t){var a=t.displayCheck,u=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=R.call(e,"details>summary:first-of-type"),r=s?e.parentElement:e;if(R.call(r,"details:not([open]) *"))return!0;if(!a||a==="full"||a==="legacy-full"){if(typeof u=="function"){for(var c=e;e;){var d=e.parentElement,b=q(e);if(d&&!d.shadowRoot&&u(d)===!0)return se(e);e.assignedSlot?e=e.assignedSlot:!d&&b!==e.ownerDocument?e=b.host:e=d}e=c}if(tt(e))return!e.getClientRects().length;if(a!=="legacy-full")return!0}else if(a==="non-zero-area")return se(e);return!1},rt=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var a=0;a<t.children.length;a++){var u=t.children.item(a);if(u.tagName==="LEGEND")return R.call(t,"fieldset[disabled] *")?!0:!u.contains(e)}return!0}t=t.parentElement}return!1},Y=function(e,t){return!(t.disabled||$(t)||Xe(t)||at(t,e)||He(t)||rt(t))},ae=function(e,t){return!(et(t)||P(t)<0||!Y(e,t))},nt=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},it=function o(e){var t=[],a=[];return e.forEach(function(u,s){var r=!!u.scopeParent,c=r?u.scopeParent:u,d=We(c,r),b=r?o(u.candidates):c;d===0?r?t.push.apply(t,b):t.push(c):a.push({documentOrder:s,tabIndex:d,item:u,isScope:r,content:b})}),a.sort(Ze).reduce(function(u,s){return s.isScope?u.push.apply(u,s.content):u.push(s.content),u},[]).concat(t)},ot=function(e,t){t=t||{};var a;return t.getShadowRoot?a=ge([e],t.includeContainer,{filter:ae.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:nt}):a=he(e,t.includeContainer,ae.bind(null,t)),it(a)},ut=function(e,t){t=t||{};var a;return t.getShadowRoot?a=ge([e],t.includeContainer,{filter:Y.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):a=he(e,t.includeContainer,Y.bind(null,t)),a},C=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return R.call(e,G)===!1?!1:ae(t,e)},st=be.concat("iframe").join(","),ee=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return R.call(e,st)===!1?!1:Y(t,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function le(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);e&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(o,u).enumerable})),t.push.apply(t,a)}return t}function ce(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?le(Object(t),!0).forEach(function(a){lt(o,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):le(Object(t)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(t,a))})}return o}function lt(o,e,t){return e=dt(e),e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function ct(o,e){if(typeof o!="object"||o===null)return o;var t=o[Symbol.toPrimitive];if(t!==void 0){var a=t.call(o,e||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(o)}function dt(o){var e=ct(o,"string");return typeof e=="symbol"?e:String(e)}var de={activateTrap:function(e,t){if(e.length>0){var a=e[e.length-1];a!==t&&a.pause()}var u=e.indexOf(t);u===-1||e.splice(u,1),e.push(t)},deactivateTrap:function(e,t){var a=e.indexOf(t);a!==-1&&e.splice(a,1),e.length>0&&e[e.length-1].unpause()}},ft=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},vt=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},M=function(e){return e?.key==="Tab"||e?.keyCode===9},bt=function(e){return M(e)&&!e.shiftKey},pt=function(e){return M(e)&&e.shiftKey},fe=function(e){return setTimeout(e,0)},ve=function(e,t){var a=-1;return e.every(function(u,s){return t(u)?(a=s,!1):!0}),a},L=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),u=1;u<t;u++)a[u-1]=arguments[u];return typeof e=="function"?e.apply(void 0,a):e},U=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},ht=[],gt=function(e,t){var a=t?.document||document,u=t?.trapStack||ht,s=ce({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:bt,isKeyBackward:pt},t),r={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},c,d=function(i,n,l){return i&&i[n]!==void 0?i[n]:s[l||n]},b=function(i,n){var l=typeof n?.composedPath=="function"?n.composedPath():void 0;return r.containerGroups.findIndex(function(f){var v=f.container,g=f.tabbableNodes;return v.contains(i)||l?.includes(v)||g.find(function(m){return m===i})})},w=function(i){var n=s[i];if(typeof n=="function"){for(var l=arguments.length,f=new Array(l>1?l-1:0),v=1;v<l;v++)f[v-1]=arguments[v];n=n.apply(void 0,f)}if(n===!0&&(n=void 0),!n){if(n===void 0||n===!1)return n;throw new Error("`".concat(i,"` was specified but was not a node, or did not return a node"))}var g=n;if(typeof n=="string"&&(g=a.querySelector(n),!g))throw new Error("`".concat(i,"` as selector refers to no known node"));return g},h=function(){var i=w("initialFocus");if(i===!1)return!1;if(i===void 0||!ee(i,s.tabbableOptions))if(b(a.activeElement)>=0)i=a.activeElement;else{var n=r.tabbableGroups[0],l=n&&n.firstTabbableNode;i=l||w("fallbackFocus")}if(!i)throw new Error("Your focus-trap needs to have at least one focusable element");return i},F=function(){if(r.containerGroups=r.containers.map(function(i){var n=ot(i,s.tabbableOptions),l=ut(i,s.tabbableOptions),f=n.length>0?n[0]:void 0,v=n.length>0?n[n.length-1]:void 0,g=l.find(function(N){return C(N)}),m=l.slice().reverse().find(function(N){return C(N)}),T=!!n.find(function(N){return P(N)>0});return{container:i,tabbableNodes:n,focusableNodes:l,posTabIndexesFound:T,firstTabbableNode:f,lastTabbableNode:v,firstDomTabbableNode:g,lastDomTabbableNode:m,nextTabbableNode:function(S){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,k=n.indexOf(S);return k<0?O?l.slice(l.indexOf(S)+1).find(function(x){return C(x)}):l.slice(0,l.indexOf(S)).reverse().find(function(x){return C(x)}):n[k+(O?1:-1)]}}}),r.tabbableGroups=r.containerGroups.filter(function(i){return i.tabbableNodes.length>0}),r.tabbableGroups.length<=0&&!w("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(r.containerGroups.find(function(i){return i.posTabIndexesFound})&&r.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},I=function p(i){var n=i.activeElement;if(n)return n.shadowRoot&&n.shadowRoot.activeElement!==null?p(n.shadowRoot):n},E=function p(i){if(i!==!1&&i!==I(document)){if(!i||!i.focus){p(h());return}i.focus({preventScroll:!!s.preventScroll}),r.mostRecentlyFocusedNode=i,ft(i)&&i.select()}},j=function(i){var n=w("setReturnFocus",i);return n||(n===!1?!1:i)},V=function(i){var n=i.target,l=i.event,f=i.isBackward,v=f===void 0?!1:f;n=n||U(l),F();var g=null;if(r.tabbableGroups.length>0){var m=b(n,l),T=m>=0?r.containerGroups[m]:void 0;if(m<0)v?g=r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:g=r.tabbableGroups[0].firstTabbableNode;else if(v){var N=ve(r.tabbableGroups,function(J){var Q=J.firstTabbableNode;return n===Q});if(N<0&&(T.container===n||ee(n,s.tabbableOptions)&&!C(n,s.tabbableOptions)&&!T.nextTabbableNode(n,!1))&&(N=m),N>=0){var S=N===0?r.tabbableGroups.length-1:N-1,O=r.tabbableGroups[S];g=P(n)>=0?O.lastTabbableNode:O.lastDomTabbableNode}else M(l)||(g=T.nextTabbableNode(n,!1))}else{var k=ve(r.tabbableGroups,function(J){var Q=J.lastTabbableNode;return n===Q});if(k<0&&(T.container===n||ee(n,s.tabbableOptions)&&!C(n,s.tabbableOptions)&&!T.nextTabbableNode(n))&&(k=m),k>=0){var x=k===r.tabbableGroups.length-1?0:k+1,ie=r.tabbableGroups[x];g=P(n)>=0?ie.firstTabbableNode:ie.firstDomTabbableNode}else M(l)||(g=T.nextTabbableNode(n))}}else g=w("fallbackFocus");return g},D=function(i){var n=U(i);if(!(b(n,i)>=0)){if(L(s.clickOutsideDeactivates,i)){c.deactivate({returnFocus:s.returnFocusOnDeactivate});return}L(s.allowOutsideClick,i)||i.preventDefault()}},W=function(i){var n=U(i),l=b(n,i)>=0;if(l||n instanceof Document)l&&(r.mostRecentlyFocusedNode=n);else{i.stopImmediatePropagation();var f,v=!0;if(r.mostRecentlyFocusedNode)if(P(r.mostRecentlyFocusedNode)>0){var g=b(r.mostRecentlyFocusedNode),m=r.containerGroups[g].tabbableNodes;if(m.length>0){var T=m.findIndex(function(N){return N===r.mostRecentlyFocusedNode});T>=0&&(s.isKeyForward(r.recentNavEvent)?T+1<m.length&&(f=m[T+1],v=!1):T-1>=0&&(f=m[T-1],v=!1))}}else r.containerGroups.some(function(N){return N.tabbableNodes.some(function(S){return P(S)>0})})||(v=!1);else v=!1;v&&(f=V({target:r.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(r.recentNavEvent)})),E(f||r.mostRecentlyFocusedNode||h())}r.recentNavEvent=void 0},Z=function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r.recentNavEvent=i;var l=V({event:i,isBackward:n});l&&(M(i)&&i.preventDefault(),E(l))},y=function(i){if(vt(i)&&L(s.escapeDeactivates,i)!==!1){i.preventDefault(),c.deactivate();return}(s.isKeyForward(i)||s.isKeyBackward(i))&&Z(i,s.isKeyBackward(i))},X=function(i){var n=U(i);b(n,i)>=0||L(s.clickOutsideDeactivates,i)||L(s.allowOutsideClick,i)||(i.preventDefault(),i.stopImmediatePropagation())},re=function(){if(r.active)return de.activateTrap(u,c),r.delayInitialFocusTimer=s.delayInitialFocus?fe(function(){E(h())}):E(h()),a.addEventListener("focusin",W,!0),a.addEventListener("mousedown",D,{capture:!0,passive:!1}),a.addEventListener("touchstart",D,{capture:!0,passive:!1}),a.addEventListener("click",X,{capture:!0,passive:!1}),a.addEventListener("keydown",y,{capture:!0,passive:!1}),c},ne=function(){if(r.active)return a.removeEventListener("focusin",W,!0),a.removeEventListener("mousedown",D,!0),a.removeEventListener("touchstart",D,!0),a.removeEventListener("click",X,!0),a.removeEventListener("keydown",y,!0),c},we=function(i){var n=i.some(function(l){var f=Array.from(l.removedNodes);return f.some(function(v){return v===r.mostRecentlyFocusedNode})});n&&E(h())},H=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(we):void 0,A=function(){H&&(H.disconnect(),r.active&&!r.paused&&r.containers.map(function(i){H.observe(i,{subtree:!0,childList:!0})}))};return c={get active(){return r.active},get paused(){return r.paused},activate:function(i){if(r.active)return this;var n=d(i,"onActivate"),l=d(i,"onPostActivate"),f=d(i,"checkCanFocusTrap");f||F(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=a.activeElement,n?.();var v=function(){f&&F(),re(),A(),l?.()};return f?(f(r.containers.concat()).then(v,v),this):(v(),this)},deactivate:function(i){if(!r.active)return this;var n=ce({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},i);clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,ne(),r.active=!1,r.paused=!1,A(),de.deactivateTrap(u,c);var l=d(n,"onDeactivate"),f=d(n,"onPostDeactivate"),v=d(n,"checkCanReturnFocus"),g=d(n,"returnFocus","returnFocusOnDeactivate");l?.();var m=function(){fe(function(){g&&E(j(r.nodeFocusedBeforeActivation)),f?.()})};return g&&v?(v(j(r.nodeFocusedBeforeActivation)).then(m,m),this):(m(),this)},pause:function(i){if(r.paused||!r.active)return this;var n=d(i,"onPause"),l=d(i,"onPostPause");return r.paused=!0,n?.(),ne(),A(),l?.(),this},unpause:function(i){if(!r.paused||!r.active)return this;var n=d(i,"onUnpause"),l=d(i,"onPostUnpause");return r.paused=!1,n?.(),F(),re(),A(),l?.(),this},updateContainerElements:function(i){var n=[].concat(i).filter(Boolean);return r.containers=n.map(function(l){return typeof l=="string"?a.querySelector(l):l}),r.active&&F(),A(),this}},c.updateContainerElements(e),c};function mt(o,e={}){let t;const{immediate:a,...u}=e,s=K(!1),r=K(!1),c=h=>t&&t.activate(h),d=h=>t&&t.deactivate(h),b=()=>{t&&(t.pause(),r.value=!0)},w=()=>{t&&(t.unpause(),r.value=!1)};return te(()=>$e(o),h=>{h&&(t=gt(h,{...u,onActivate(){s.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){s.value=!1,e.onDeactivate&&e.onDeactivate()}}),a&&c())},{flush:"post"}),Te(()=>d()),{hasFocus:s,isPaused:r,activate:c,deactivate:d,pause:b,unpause:w}}const yt=["aria-labelledby"],wt={class:"p-safe-area",absolute:"","inset-0":"","z-1":"","pointer-events-none":"","opacity-100":"",flex:""},Nt={"flex-1":"",flex:"","items-center":"","justify-center":"","p-4":""},Tt=Fe({inheritAttrs:!1,__name:"ModalDialog",props:oe({zIndex:{default:100},closeByMask:{type:Boolean,default:!0},useVIf:{type:Boolean,default:!0},keepAlive:{type:Boolean,default:!1},dialogLabelledBy:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:oe(["close"],["update:modelValue"]),setup(o,{expose:e,emit:t}){const a=o,u=t,s=Ee(o,"modelValue"),r=ke(),c=De(),d=Se(),b=K(),w=K(),{activate:h}=mt(w,{immediate:!1,allowOutsideClick:!0,clickOutsideDeactivates:!0,escapeDeactivates:!0,preventScroll:!0,returnFocusOnDeactivate:!0});e({elDialogRoot:w,elDialogMain:b});function F(){s.value&&(s.value=!1,u("close"))}function I(){a.closeByMask&&F()}const E=K(c.path);te(s,y=>{y&&(E.value=c.path)});const j=_(()=>r.value||E.value!==c.path);te(j,y=>{a.keepAlive||y&&F()});const V=_(()=>a.useVIf?s.value:!0),D=_(()=>a.useVIf?!0:s.value);function W(y){return y}function Z(){D.value&&Ge().then(()=>h())}return Pe("keydown",y=>{s.value&&y.key==="Escape"&&(F(),y.preventDefault())}),(y,X)=>(ue(),Re(Ue,{to:"body"},[Ie(ze,{name:"dialog-visible",onTransitionend:Z},{default:Ce(()=>[z(V)?Ae((ue(),Oe("div",{key:0,ref_key:"elDialogRoot",ref:w,"aria-modal":"true","aria-labelledby":y.dialogLabelledBy,style:xe({"z-index":y.zIndex}),fixed:"","inset-0":"","of-y-auto":"","scrollbar-hide":"","overscroll-none":""},[B("div",{class:Be(["dialog-mask",{"backdrop-blur-sm":!("getPreferences"in y?y.getPreferences:z(Le))(z(d),"optimizeForLowPerformanceDevice")}]),absolute:"","inset-0":"","z-0":"","bg-transparent":"","opacity-100":"","backdrop-filter":"","touch-none":""},null,2),B("div",{class:"dialog-mask",absolute:"","inset-0":"","z-0":"","bg-black":"","opacity-48":"","touch-none":"",h:"[calc(100%+0.5px)]",onClick:I}),B("div",wt,[B("div",Nt,[B("div",Ke({ref_key:"elDialogMain",ref:b,class:"dialog-main rounded shadow-lg pointer-events-auto isolate bg-base border-base border-1px border-solid w-full max-h-full of-y-auto overscroll-contain touch-pan-y touch-pan-x"},y.$attrs),[Me(y.$slots,"default",{},void 0,!0)],16)])])],12,yt)),[[je,z(D)]]):Ve("",!0)]),_:3})]))}}),Et=qe(Tt,[["__scopeId","data-v-f67b54f1"]]);export{Et as _};
