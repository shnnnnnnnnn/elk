import{d as p,ci as y,a as _,L as m,A as v,o as s,c,h as l,J as w,f as u,w as i,j as n,t as B,a0 as b}from"./CMcu4vOi.js";const q={flex:"","gap-4":""},k=n("span",{block:"","text-current":"","i-ri:check-fill":""},null,-1),R=[k],x=n("span",{block:"","text-current":"","i-ri:close-fill":""},null,-1),j=[x],$={key:1,"text-secondary":""},z=p({__name:"AccountFollowRequestButton",props:{account:{},relationship:{}},setup(o){const d=y(o,["account"]),t=_(()=>d.relationship||m(o.account).value),{client:a}=v();async function f(){t.value.requestedBy=!1,t.value.followedBy=!0;try{const e=await a.value.v1.followRequests.$select(o.account.id).authorize();Object.assign(t,e)}catch(e){console.error(e),t.value.requestedBy=!0,t.value.followedBy=!1}}async function h(){t.value.requestedBy=!1;try{const e=await a.value.v1.followRequests.$select(o.account.id).reject();Object.assign(t,e)}catch(e){console.error(e),t.value.requestedBy=!0}}return(e,g)=>{const r=b;return s(),c("div",q,[l(t)?.requestedBy?(s(),c(w,{key:0},[u(r,{content:e.$t("account.authorize"),"no-auto-focus":""},{default:i(()=>[n("button",{type:"button","rounded-full":"","text-sm":"",p2:"","border-1":"","hover:text-green":"","transition-colors":"",onClick:f},R)]),_:1},8,["content"]),u(r,{content:e.$t("account.reject"),"no-auto-focus":""},{default:i(()=>[n("button",{type:"button","rounded-full":"","text-sm":"",p2:"","border-1":"","hover:text-red":"","transition-colors":"",onClick:h},j)]),_:1},8,["content"])],64)):(s(),c("span",$,B(l(t)?.followedBy?e.$t("account.authorized"):e.$t("account.rejected")),1))])}}});export{z as _};
