import{d as y,s as N,aI as V,aJ as E,v as O,a as h,aK as d,aL as B,a1 as K,ar as P,a2 as v,o as n,c as _,j as o,h as e,m as i,w as r,J as U,K as $,l as j,t as c,k as x,aM as A,f as F,aN as H,aO as I,p as L,b as R,e as W,aP as J}from"./CMcu4vOi.js";import{_ as S}from"./-SIb_O-z.js";import"./CfB6UbSh.js";import"./DDd3r5-x.js";import"./Brx9_43Z.js";import"./CjVkB9VF.js";import"./WqbmNLH1.js";import"./BwHuf7fG.js";import"./BsDGj7hD.js";import"./CziPTEgh.js";import"./Bo2XathJ.js";import"./BBra7vxC.js";import"./Cs8xWohE.js";import"./C1NZMy0l.js";const q={flex:"~ col","pt-6":"","h-screen":""},M={"inline-flex":"","justify-end":"","h-8":""},z={"btn-text":"",flex:"inline center"},G=o("div",{"aria-hidden":"true","i-ri:arrow-down-s-line":""},null,-1),Q={flex:"~ col"},X={flex:"~ gap-1","items-center":""},Y={key:0,"text-secondary":"","text-sm":""},Z={"text-secondary":""},ee=y({__name:"PublishWidgetFull.client",setup(b){const l=N(),{formatNumber:u}=V(),f=E(),a=O("home"),g=h(()=>Object.keys(d.value)),s=h(()=>g.value.filter(t=>t!==a.value&&!B(d.value[t])).map(t=>[t,d.value[t]]));return K(()=>{a.value=l.query.draft?.toString()||"home"}),P(()=>{A()}),(t,oe)=>{const k=v("i18n-t"),w=L,D=v("VDropdown"),T=S;return n(),_("div",q,[o("div",M,[e(s).length?(n(),i(D,{key:0,placement:"bottom-end"},{popper:r(({hide:C})=>[o("div",Q,[(n(!0),_(U,null,$(e(s),([m,p])=>(n(),i(w,{key:m,border:"b base","text-left":"",py2:"",px4:"","hover:bg-active":"",replace:!0,to:`/compose?draft=${encodeURIComponent(m)}`,onClick:ne=>C()},{default:r(()=>[o("div",null,[o("div",X,[F(k,{keypath:"compose.draft_title"},{default:r(()=>[o("code",null,c(m),1)]),_:2},1024),p.lastUpdated?(n(),_("span",Y," · "+c(e(H)(new Date(p.lastUpdated),e(f))),1)):x("",!0)]),o("div",Z,c(("htmlToText"in t?t.htmlToText:e(I))(p.params.status).slice(0,50)),1)])]),_:2},1032,["to","onClick"]))),128))])]),default:r(()=>[o("button",z,[j(c(t.$t("compose.drafts",e(s).length,{named:{v:e(u)(e(s).length)}}))+" ",1),G])]),_:1})):x("",!0)]),o("div",null,[(n(),i(T,{key:e(a),expanded:"",class:"min-h-100!","draft-key":e(a)},null,8,["draft-key"]))])])}}}),te=J(ee),xe=y({__name:"compose",setup(b){const{t:l}=R();return W({title:()=>l("nav.compose")}),(u,f)=>{const a=te;return n(),i(a)}}});export{xe as default};
